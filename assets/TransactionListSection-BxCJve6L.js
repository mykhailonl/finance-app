import{a as l,p as e}from"./chunk-EF7DTUVF-DUQZMWWT.js";import{i as m,c as d}from"./IconType-D_XhrS7g.js";import{D as u}from"./Avatar-D6fTuGui.js";import{u as h}from"./useModal-BE7etAkf.js";import{b as j}from"./people-CIRKKBWR.js";import{N}from"./PageWrapper-6xLeLlWD.js";import{S as b,W as v}from"./WidgetTransaction-DAZjXl1j.js";const E=({item:t})=>{const{openModal:o}=h(),[r,a]=l.useState(!1),n=l.useRef(null);l.useEffect(()=>{const x=f=>{n.current&&!n.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const s=m.dots,c="category"in t,i="name"in t,p=()=>{c&&o({type:"budget-edit",budget:t}),i&&o({type:"pot-edit",pot:t})},g=()=>{c&&o({type:"budget-delete",budget:t}),i&&o({type:"pot-delete",pot:t})};return e.jsxs("div",{className:"relative cursor-custom",ref:n,onClick:()=>a(!r),children:[e.jsx(s,{className:"h-4 w-4 hover:text-grey-500"}),r&&e.jsxs("div",{className:d("absolute top-7 right-0","bg-white shadow-[0_4px_24px_0_rgba(0,0,0,0.25)] rounded-lg","flex flex-col gap-3 px-5 py-3","text-nowrap text-preset-4"),children:[e.jsxs("p",{className:"text-grey-900",onClick:p,children:["Edit ",c?"Budget":"Pot"]}),e.jsx(u,{}),e.jsxs("p",{className:"text-red",onClick:g,children:["Delete ",c?"Budget":"Pot"]})]})]})},B=({item:t})=>{const{theme:o}=t,r="name"in t?t.name:t.category,a=m.ellipse,n=j[o];return e.jsxs("div",{className:d(n,"flex gap-4 items-center"),children:[e.jsx(a,{className:"h-4 w-4"}),e.jsxs("div",{className:"text-grey-300 flex grow items-center",children:[e.jsx("h2",{className:"text-preset-2 text-grey-900 grow",children:r}),e.jsx(E,{item:t})]})]})},D=({transactions:t,title:o,link:r,linkText:a,emptyTextState:n,styles:s})=>{const c=!t.length;return e.jsx("div",{className:d("flex flex-col p-4 bg-beige-100 rounded-xl gap-5 md:p-5 ",s==null?void 0:s.containerStyles),children:c?e.jsx(N,{text:n,styles:{containerStyles:"py-4"}}):e.jsxs(e.Fragment,{children:[e.jsx(b,{title:o,linkText:a,link:r,small:!0}),e.jsx("div",{className:d("flex flex-col gap-3",s==null?void 0:s.listStyles),children:t.map((i,p)=>e.jsxs(l.Fragment,{children:[e.jsx(v,{transaction:i,hideAvatarOnMobile:!0,small:!0,styles:s==null?void 0:s.transactionStyles,isPotFormatting:!0}),p<t.length-1&&e.jsx(u,{styles:"bg-grey-500 opacity-15"})]},i.transaction_date))})]})})};export{B as S,D as T};
