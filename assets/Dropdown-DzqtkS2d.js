import{a as m,p as e}from"./chunk-EF7DTUVF-DUQZMWWT.js";import{c as t,i as o}from"./IconType-D_XhrS7g.js";import{D as z}from"./Avatar-pVEUiCx2.js";import{b as y}from"./people-vRaPxzR8.js";const W=({label:r,value:p,onChange:N,onBlur:d,error:v,options:l,styles:C,showColorTag:c,showCaret:E,mobileView:x,usedValues:w,small:k,usedOptionFirst:D=!1})=>{const[u,i]=m.useState(!1),f=m.useRef(null);m.useEffect(()=>{const s=n=>{f.current&&!f.current.contains(n.target)&&i(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const S=o.caretDown,j=o.ellipse,_=o.sort,I=o.filter,O=o.selected,b=r.labelText==="Sort By",T=r.labelText==="Category",a=l.find(s=>s.value===p)||l[0],F=c&&y[p],R=D?[a,...l.sort((s,n)=>s.label.localeCompare(n.label)).filter(s=>s.value!==a.value)]:l;return e.jsxs("div",{className:t("flex gap-1 items-center self-stretch",C),children:[r.showLabel&&e.jsx("label",{className:t("text-grey-500 text-nowrap",r.bold?"text-preset-5-bold":"text-preset-4",x?"hidden md:block":"block",r.labelStyles),children:r.labelText}),e.jsxs("div",{className:"relative w-full",ref:f,children:[e.jsxs("div",{className:t("md:hidden cursor-custom p-3",x?"flex":"hidden"),onClick:()=>i(!u),children:[b&&e.jsx(_,{}),T&&e.jsx(I,{})]}),e.jsxs("div",{className:t("text-nowrap md:flex items-center px-5 py-3 gap-4 rounded-lg bg-white cursor-custom border border-beige-500 hover:border-grey-500 active:border-grey-900",x?"hidden":"flex",b?"min-w-[118px]":"min-w-[177px]",k&&"min-w-fit md:min-w-[177px]"),onClick:()=>i(!u),onBlur:d,children:[c&&e.jsx(j,{className:t("w-4 h-4",F)}),e.jsx("p",{className:"text-preset-4 text-grey-900 grow",children:a==null?void 0:a.label}),E&&e.jsx(S,{className:"w-2 h-2"})]}),u&&e.jsx("div",{className:t("rounded-lg px-5 py-3 bg-white flex gap-3 flex-col absolute shadow-[0_4px_24px_0_rgba(0,0,0,0.25)] max-h-[300px] overflow-y-auto z-10","right-0 md:w-full md:inset-x-0",x?"top-13 md:top-16":"w-full top-16"),children:R.map((s,n)=>{const h=p===s.value,A=c&&y[s.value],g=w&&w.includes(s.value);return e.jsxs(m.Fragment,{children:[e.jsxs("div",{className:t("flex gap-3 items-center",g?"cursor-not-allowed":"cursor-custom hover:text-grey-900",h?"text-preset-4-bold text-grey-900":"text-preset-4 text-beige-500"),onClick:L=>{g||(L.stopPropagation(),N(s.value),d==null||d(),i(!1))},children:[c&&e.jsx(j,{className:t("w-4 h-4",A)}),e.jsx("p",{className:"grow text-nowrap",children:s.label}),h&&c&&e.jsx(O,{className:"w-4 h-4"}),g&&!h&&e.jsx("p",{className:"text-preset-5 text-grey-500",children:"Already used"})]}),n<l.length-1&&e.jsx(z,{styles:"shrink-0"})]},s.value)})}),v&&e.jsx("p",{className:"text-preset-5 text-red text-end",children:v})]})]})};export{W as D};
