var Wo=Object.defineProperty;var hr=e=>{throw TypeError(e)};var Qo=(e,t,n)=>t in e?Wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xn=(e,t,n)=>Qo(e,typeof t!="symbol"?t+"":t,n),Wn=(e,t,n)=>t.has(e)||hr("Cannot "+n);var v=(e,t,n)=>(Wn(e,t,"read from private field"),n?n.call(e):t.get(e)),K=(e,t,n)=>t.has(e)?hr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Wn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ct=(e,t,n)=>(Wn(e,t,"access private method"),n);var bn=(e,t,n,r)=>({set _(o){Q(e,t,o,n)},get _(){return v(e,t,r)}});import{a as E,R as w,p as l,q as Vo,t as nr,w as zo,v as Uo,M as Ko,L as Yo,S as Xo,x as Go,i as Zo,y as Jo,z as gr,O as vr}from"./chunk-EF7DTUVF-DUQZMWWT.js";import{e as ta,a as ea,b as na,R as ra,c as oa,n as it,S as rr,m as yr,d as Wt,s as aa,h as Nn,f as oo,Q as sa,g as xr,i as ia,o as br,r as wr,j as la,p as Tr,k as ca,l as ua,t as en,E as In,I as ao,q as pt,A as da,T as pa}from"./Avatar-BQonAs2_.js";import{u as dn,I as Qn,D as nt,a as nn,b as Ke,B as Y,Q as fa,A as ma,M as ha}from"./Button-DqqQBIgQ.js";import{R as Ze,a as so}from"./index-Bd0djgpv.js";import{u as be}from"./useAuth-CUq5kDrt.js";import{b as Vn,u as io,c as Mn}from"./clsx-DOsrhoMP.js";import{u as ga,D as va}from"./useDevice-BvX5AX7L.js";import{u as we}from"./useModal-BE7etAkf.js";import{p as Ye,u as lo}from"./usePots-D6SzmVFw.js";import{u as Er}from"./useSearchParamValue-BP7xikAl.js";import{D as xe}from"./Dropdown-BECXNPkU.js";import{I as Yt}from"./Input-DN-dqtY9.js";import{i as co,c as St}from"./IconType-D_XhrS7g.js";import{C as Bn,A as ya}from"./people-CIRKKBWR.js";import{u as Te}from"./useForm-BZA4fYzs.js";import{M as xa,i as ba,u as uo,P as wa,a as Ta,b as Ea,L as Ca,c as Ut,m as _e}from"./index-InAYqPc8.js";import{A as po,P as fo}from"./ProgressSection-B4HQxDBF.js";import{u as Sa,T as Oa,c as ja,a as Pa,d as Da,g as mo,b as ho,e as go,f as vo,s as _n,h as yo,m as or}from"./DefaultPropsProvider-BBnyG-ow.js";import{f as xo}from"./formatAmount-BKTdCLbz.js";import{g as Na}from"./getUserTimeZone-Djy-hj5f.js";import{n as Ma}from"./normalizePeriod-CuCbOXIS.js";import"./ProgressBar-C3Dd7msz.js";function Cr(e){return{onFetch:(t,n)=>{var c,s,f,m,g;const r=t.options,o=(f=(s=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:s.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let h=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},T=ta(t.options,t.fetchOptions),D=async(x,b,P)=>{if(h)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:b,direction:P?"backward":"forward",meta:t.options.meta};return y(k),k})(),R=await T(j),{maxPages:S}=t.options,O=P?ea:na;return{pages:O(x.pages,R,S),pageParams:O(x.pageParams,b,S)}};if(o&&a.length){const x=o==="backward",b=x?Aa:Sr,P={pages:a,pageParams:i},C=b(r,P);u=await D(P,C,x)}else{const x=e??a.length;do{const b=d===0?i[0]??r.initialPageParam:Sr(r,u);if(d>0&&b==null)break;u=await D(u,b),d++}while(d<x)}return u};t.options.persister?t.fetchFn=()=>{var h,y;return(y=(h=t.options).persister)==null?void 0:y.call(h,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Sr(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Aa(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var cn,Qt,dt,De,Vt,me,Jr,Ra=(Jr=class extends ra{constructor(t){super();K(this,Vt);K(this,cn);K(this,Qt);K(this,dt);K(this,De);Q(this,cn,t.client),this.mutationId=t.mutationId,Q(this,dt,t.mutationCache),Q(this,Qt,[]),this.state=t.state||bo(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){v(this,Qt).includes(t)||(v(this,Qt).push(t),this.clearGcTimeout(),v(this,dt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Qt,v(this,Qt).filter(n=>n!==t)),this.scheduleGc(),v(this,dt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){v(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():v(this,dt).remove(this))}continue(){var t;return((t=v(this,De))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,u,d,p,c,s,f,m,g,h,y,T,D,x,b,P,C,j,R,S;const n=()=>{Ct(this,Vt,me).call(this,{type:"continue"})},r={client:v(this,cn),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,De,oa({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,k)=>{Ct(this,Vt,me).call(this,{type:"failed",failureCount:O,error:k})},onPause:()=>{Ct(this,Vt,me).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>v(this,dt).canRun(this)}));const o=this.state.status==="pending",a=!v(this,De).canStart();try{if(o)n();else{Ct(this,Vt,me).call(this,{type:"pending",variables:t,isPaused:a}),await((u=(i=v(this,dt).config).onMutate)==null?void 0:u.call(i,t,this,r));const k=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t,r));k!==this.state.context&&Ct(this,Vt,me).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const O=await v(this,De).start();return await((s=(c=v(this,dt).config).onSuccess)==null?void 0:s.call(c,O,t,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,O,t,this.state.context,r)),await((h=(g=v(this,dt).config).onSettled)==null?void 0:h.call(g,O,null,this.state.variables,this.state.context,this,r)),await((T=(y=this.options).onSettled)==null?void 0:T.call(y,O,null,t,this.state.context,r)),Ct(this,Vt,me).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(D=v(this,dt).config).onError)==null?void 0:x.call(D,O,t,this.state.context,this,r)),await((P=(b=this.options).onError)==null?void 0:P.call(b,O,t,this.state.context,r)),await((j=(C=v(this,dt).config).onSettled)==null?void 0:j.call(C,void 0,O,this.state.variables,this.state.context,this,r)),await((S=(R=this.options).onSettled)==null?void 0:S.call(R,void 0,O,t,this.state.context,r)),O}finally{Ct(this,Vt,me).call(this,{type:"error",error:O})}}finally{v(this,dt).runNext(this)}}},cn=new WeakMap,Qt=new WeakMap,dt=new WeakMap,De=new WeakMap,Vt=new WeakSet,me=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),it.batch(()=>{v(this,Qt).forEach(r=>{r.onMutationUpdate(t)}),v(this,dt).notify({mutation:this,type:"updated",action:t})})},Jr);function bo(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ne,Ft,un,to,ka=(to=class extends rr{constructor(t={}){super();K(this,ne);K(this,Ft);K(this,un);this.config=t,Q(this,ne,new Set),Q(this,Ft,new Map),Q(this,un,0)}build(t,n,r){const o=new Ra({client:t,mutationCache:this,mutationId:++bn(this,un)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){v(this,ne).add(t);const n=wn(t);if(typeof n=="string"){const r=v(this,Ft).get(n);r?r.push(t):v(this,Ft).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(v(this,ne).delete(t)){const n=wn(t);if(typeof n=="string"){const r=v(this,Ft).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&v(this,Ft).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wn(t);if(typeof n=="string"){const r=v(this,Ft).get(n),o=r==null?void 0:r.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=wn(t);if(typeof n=="string"){const o=(r=v(this,Ft).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{v(this,ne).forEach(t=>{this.notify({type:"removed",mutation:t})}),v(this,ne).clear(),v(this,Ft).clear()})}getAll(){return Array.from(v(this,ne))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yr(n,r))}findAll(t={}){return this.getAll().filter(n=>yr(t,n))}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(t.map(n=>n.continue().catch(Wt))))}},ne=new WeakMap,Ft=new WeakMap,un=new WeakMap,to);function wn(e){var t;return(t=e.options.scope)==null?void 0:t.id}var re,he,vt,oe,ae,Pn,Un,eo,Ia=(eo=class extends rr{constructor(t,n){super();K(this,ae);K(this,re);K(this,he);K(this,vt);K(this,oe);Q(this,re,t),this.setOptions(n),this.bindMethods(),Ct(this,ae,Pn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=v(this,re).defaultMutationOptions(t),aa(this.options,n)||v(this,re).getMutationCache().notify({type:"observerOptionsUpdated",mutation:v(this,vt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Nn(n.mutationKey)!==Nn(this.options.mutationKey)?this.reset():((r=v(this,vt))==null?void 0:r.state.status)==="pending"&&v(this,vt).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=v(this,vt))==null||t.removeObserver(this)}onMutationUpdate(t){Ct(this,ae,Pn).call(this),Ct(this,ae,Un).call(this,t)}getCurrentResult(){return v(this,he)}reset(){var t;(t=v(this,vt))==null||t.removeObserver(this),Q(this,vt,void 0),Ct(this,ae,Pn).call(this),Ct(this,ae,Un).call(this)}mutate(t,n){var r;return Q(this,oe,n),(r=v(this,vt))==null||r.removeObserver(this),Q(this,vt,v(this,re).getMutationCache().build(v(this,re),this.options)),v(this,vt).addObserver(this),v(this,vt).execute(t)}},re=new WeakMap,he=new WeakMap,vt=new WeakMap,oe=new WeakMap,ae=new WeakSet,Pn=function(){var n;const t=((n=v(this,vt))==null?void 0:n.state)??bo();Q(this,he,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Un=function(t){it.batch(()=>{var n,r,o,a,i,u,d,p;if(v(this,oe)&&this.hasListeners()){const c=v(this,he).variables,s=v(this,he).context,f={client:v(this,re),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((r=(n=v(this,oe)).onSuccess)==null||r.call(n,t.data,c,s,f),(a=(o=v(this,oe)).onSettled)==null||a.call(o,t.data,null,c,s,f)):(t==null?void 0:t.type)==="error"&&((u=(i=v(this,oe)).onError)==null||u.call(i,t.error,c,s,f),(p=(d=v(this,oe)).onSettled)==null||p.call(d,void 0,t.error,c,s,f))}this.listeners.forEach(c=>{c(v(this,he))})})},eo),zt,no,Ba=(no=class extends rr{constructor(t={}){super();K(this,zt);this.config=t,Q(this,zt,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??oo(o,n);let i=this.get(a);return i||(i=new sa({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){v(this,zt).has(t.queryHash)||(v(this,zt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=v(this,zt).get(t.queryHash);n&&(t.destroy(),n===t&&v(this,zt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return v(this,zt).get(t)}getAll(){return[...v(this,zt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xr(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>xr(t,r)):n}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zt=new WeakMap,no),X,ge,ve,Fe,Le,ye,$e,He,ro,_a=(ro=class{constructor(e={}){K(this,X);K(this,ge);K(this,ve);K(this,Fe);K(this,Le);K(this,ye);K(this,$e);K(this,He);Q(this,X,e.queryCache||new Ba),Q(this,ge,e.mutationCache||new ka),Q(this,ve,e.defaultOptions||{}),Q(this,Fe,new Map),Q(this,Le,new Map),Q(this,ye,0)}mount(){bn(this,ye)._++,v(this,ye)===1&&(Q(this,$e,ia.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,X).onFocus())})),Q(this,He,br.subscribe(async e=>{e&&(await this.resumePausedMutations(),v(this,X).onOnline())})))}unmount(){var e,t;bn(this,ye)._--,v(this,ye)===0&&((e=v(this,$e))==null||e.call(this),Q(this,$e,void 0),(t=v(this,He))==null||t.call(this),Q(this,He,void 0))}isFetching(e){return v(this,X).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return v(this,ge).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,X).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=v(this,X).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(wr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return v(this,X).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=v(this,X).get(r.queryHash),a=o==null?void 0:o.state.data,i=la(t,a);if(i!==void 0)return v(this,X).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return it.batch(()=>v(this,X).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=v(this,X).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=v(this,X);it.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=v(this,X);return it.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=it.batch(()=>v(this,X).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Wt).catch(Wt)}invalidateQueries(e,t={}){return it.batch(()=>(v(this,X).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=it.batch(()=>v(this,X).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(Wt)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Wt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=v(this,X).build(this,t);return n.isStaleByTime(wr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wt).catch(Wt)}fetchInfiniteQuery(e){return e.behavior=Cr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wt).catch(Wt)}ensureInfiniteQueryData(e){return e.behavior=Cr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return br.isOnline()?v(this,ge).resumePausedMutations():Promise.resolve()}getQueryCache(){return v(this,X)}getMutationCache(){return v(this,ge)}getDefaultOptions(){return v(this,ve)}setDefaultOptions(e){Q(this,ve,e)}setQueryDefaults(e,t){v(this,Fe).set(Nn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...v(this,Fe).values()],n={};return t.forEach(r=>{Tr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){v(this,Le).set(Nn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...v(this,Le).values()],n={};return t.forEach(r=>{Tr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...v(this,ve).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ca&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...v(this,ve).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){v(this,X).clear(),v(this,ge).clear()}},X=new WeakMap,ge=new WeakMap,ve=new WeakMap,Fe=new WeakMap,Le=new WeakMap,ye=new WeakMap,$e=new WeakMap,He=new WeakMap,ro);function Lt(e,t){const n=dn(),[r]=E.useState(()=>new Ia(n,e));E.useEffect(()=>{r.setOptions(e)},[r,e]);const o=E.useSyncExternalStore(E.useCallback(i=>r.subscribe(it.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=E.useCallback((i,u)=>{r.mutate(i,u).catch(Wt)},[r]);if(o.error&&ua(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function Fa(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const La=e=>{switch(e){case"success":return qa;case"info":return Qa;case"warning":return Wa;case"error":return Va;default:return null}},$a=Array(12).fill(0),Ha=({visible:e,className:t})=>w.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},w.createElement("div",{className:"sonner-spinner"},$a.map((n,r)=>w.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),qa=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wa=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qa=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Va=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},w.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),za=w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},w.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),w.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ua=()=>{const[e,t]=w.useState(document.hidden);return w.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Kn=1;class Ka{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Kn++,i=this.toasts.find(d=>d.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:r}),{...d,...t,id:a,dismissible:u,title:r}):d):this.addToast({title:r,...o,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,i;const u=o.then(async p=>{if(i=["resolve",p],w.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(Xa(p)&&!p.ok){a=!1;const s=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,g=typeof s=="object"&&!w.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:f,...g})}else if(p instanceof Error){a=!1;const s=typeof n.error=="function"?await n.error(p):n.error,f=typeof n.description=="function"?await n.description(p):n.description,g=typeof s=="object"&&!w.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:f,...g})}else if(n.success!==void 0){a=!1;const s=typeof n.success=="function"?await n.success(p):n.success,f=typeof n.description=="function"?await n.description(p):n.description,g=typeof s=="object"&&!w.isValidElement(s)?s:{message:s};this.create({id:r,type:"success",description:f,...g})}}).catch(async p=>{if(i=["reject",p],n.error!==void 0){a=!1;const c=typeof n.error=="function"?await n.error(p):n.error,s=typeof n.description=="function"?await n.description(p):n.description,m=typeof c=="object"&&!w.isValidElement(c)?c:{message:c};this.create({id:r,type:"error",description:s,...m})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((p,c)=>u.then(()=>i[0]==="reject"?c(i[1]):p(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Kn++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yt=new Ka,Ya=(e,t)=>{const n=(t==null?void 0:t.id)||Kn++;return yt.addToast({title:e,...t,id:n}),n},Xa=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ga=Ya,Za=()=>yt.toasts,Ja=()=>yt.getActiveToasts(),z=Object.assign(Ga,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:Za,getToasts:Ja});Fa("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tn(e){return e.label!==void 0}const ts=3,es="24px",ns="16px",Or=4e3,rs=356,os=14,as=45,ss=200;function qt(...e){return e.filter(Boolean).join(" ")}function is(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const ls=e=>{var t,n,r,o,a,i,u,d,p;const{invert:c,toast:s,unstyled:f,interacting:m,setHeights:g,visibleToasts:h,heights:y,index:T,toasts:D,expanded:x,removeToast:b,defaultRichColors:P,closeButton:C,style:j,cancelButtonStyle:R,actionButtonStyle:S,className:O="",descriptionClassName:k="",duration:U,position:_,gap:rt,expandByDefault:F,classNames:N,icons:A,closeButtonAriaLabel:V="Close toast"}=e,[W,q]=w.useState(null),[mt,ht]=w.useState(null),[B,H]=w.useState(!1),[$,Z]=w.useState(!1),[ct,L]=w.useState(!1),[wt,le]=w.useState(!1),[kt,ot]=w.useState(!1),[ce,It]=w.useState(0),[ue,de]=w.useState(0),Tt=w.useRef(s.duration||U||Or),Gt=w.useRef(null),ut=w.useRef(null),jt=T===0,Zt=T+1<=h,et=s.type,Pt=s.dismissible!==!1,Ce=s.className||"",Re=s.descriptionClassName||"",Jt=w.useMemo(()=>y.findIndex(I=>I.toastId===s.id)||0,[y,s.id]),pe=w.useMemo(()=>{var I;return(I=s.closeButton)!=null?I:C},[s.closeButton,C]),Se=w.useMemo(()=>s.duration||U||Or,[s.duration,U]),te=w.useRef(0),$t=w.useRef(0),gt=w.useRef(0),Dt=w.useRef(null),[ee,Et]=_.split("-"),hn=w.useMemo(()=>y.reduce((I,J,at)=>at>=Jt?I:I+J.height,0),[y,Jt]),ke=Ua(),$n=s.invert||c,fe=et==="loading";$t.current=w.useMemo(()=>Jt*rt+hn,[Jt,hn]),w.useEffect(()=>{Tt.current=Se},[Se]),w.useEffect(()=>{H(!0)},[]),w.useEffect(()=>{const I=ut.current;if(I){const J=I.getBoundingClientRect().height;return de(J),g(at=>[{toastId:s.id,height:J,position:s.position},...at]),()=>g(at=>at.filter(M=>M.toastId!==s.id))}},[g,s.id]),w.useLayoutEffect(()=>{if(!B)return;const I=ut.current,J=I.style.height;I.style.height="auto";const at=I.getBoundingClientRect().height;I.style.height=J,de(at),g(M=>M.find(tt=>tt.toastId===s.id)?M.map(tt=>tt.toastId===s.id?{...tt,height:at}:tt):[{toastId:s.id,height:at,position:s.position},...M])},[B,s.title,s.description,g,s.id,s.jsx,s.action,s.cancel]);const Ht=w.useCallback(()=>{Z(!0),It($t.current),g(I=>I.filter(J=>J.toastId!==s.id)),setTimeout(()=>{b(s)},ss)},[s,b,g,$t]);w.useEffect(()=>{if(s.promise&&et==="loading"||s.duration===1/0||s.type==="loading")return;let I;return x||m||ke?(()=>{if(gt.current<te.current){const M=new Date().getTime()-te.current;Tt.current=Tt.current-M}gt.current=new Date().getTime()})():(()=>{Tt.current!==1/0&&(te.current=new Date().getTime(),I=setTimeout(()=>{s.onAutoClose==null||s.onAutoClose.call(s,s),Ht()},Tt.current))})(),()=>clearTimeout(I)},[x,m,s,et,ke,Ht]),w.useEffect(()=>{s.delete&&(Ht(),s.onDismiss==null||s.onDismiss.call(s,s))},[Ht,s.delete]);function Hn(){var I;if(A!=null&&A.loading){var J;return w.createElement("div",{className:qt(N==null?void 0:N.loader,s==null||(J=s.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":et==="loading"},A.loading)}return w.createElement(Ha,{className:qt(N==null?void 0:N.loader,s==null||(I=s.classNames)==null?void 0:I.loader),visible:et==="loading"})}const qn=s.icon||(A==null?void 0:A[et])||La(et);var gn,vn;return w.createElement("li",{tabIndex:0,ref:ut,className:qt(O,Ce,N==null?void 0:N.toast,s==null||(t=s.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[et],s==null||(n=s.classNames)==null?void 0:n[et]),"data-sonner-toast":"","data-rich-colors":(gn=s.richColors)!=null?gn:P,"data-styled":!(s.jsx||s.unstyled||f),"data-mounted":B,"data-promise":!!s.promise,"data-swiped":kt,"data-removed":$,"data-visible":Zt,"data-y-position":ee,"data-x-position":Et,"data-index":T,"data-front":jt,"data-swiping":ct,"data-dismissible":Pt,"data-type":et,"data-invert":$n,"data-swipe-out":wt,"data-swipe-direction":mt,"data-expanded":!!(x||F&&B),"data-testid":s.testId,style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${$?ce:$t.current}px`,"--initial-height":F?"auto":`${ue}px`,...j,...s.style},onDragEnd:()=>{L(!1),q(null),Dt.current=null},onPointerDown:I=>{I.button!==2&&(fe||!Pt||(Gt.current=new Date,It($t.current),I.target.setPointerCapture(I.pointerId),I.target.tagName!=="BUTTON"&&(L(!0),Dt.current={x:I.clientX,y:I.clientY})))},onPointerUp:()=>{var I,J,at;if(wt||!Pt)return;Dt.current=null;const M=Number(((I=ut.current)==null?void 0:I.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),st=Number(((J=ut.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tt=new Date().getTime()-((at=Gt.current)==null?void 0:at.getTime()),Nt=W==="x"?M:st,yn=Math.abs(Nt)/tt;if(Math.abs(Nt)>=as||yn>.11){It($t.current),s.onDismiss==null||s.onDismiss.call(s,s),ht(W==="x"?M>0?"right":"left":st>0?"down":"up"),Ht(),le(!0);return}else{var Bt,_t;(Bt=ut.current)==null||Bt.style.setProperty("--swipe-amount-x","0px"),(_t=ut.current)==null||_t.style.setProperty("--swipe-amount-y","0px")}ot(!1),L(!1),q(null)},onPointerMove:I=>{var J,at,M;if(!Dt.current||!Pt||((J=window.getSelection())==null?void 0:J.toString().length)>0)return;const tt=I.clientY-Dt.current.y,Nt=I.clientX-Dt.current.x;var yn;const Bt=(yn=e.swipeDirections)!=null?yn:is(_);!W&&(Math.abs(Nt)>1||Math.abs(tt)>1)&&q(Math.abs(Nt)>Math.abs(tt)?"x":"y");let _t={x:0,y:0};const mr=Oe=>1/(1.5+Math.abs(Oe)/20);if(W==="y"){if(Bt.includes("top")||Bt.includes("bottom"))if(Bt.includes("top")&&tt<0||Bt.includes("bottom")&&tt>0)_t.y=tt;else{const Oe=tt*mr(tt);_t.y=Math.abs(Oe)<Math.abs(tt)?Oe:tt}}else if(W==="x"&&(Bt.includes("left")||Bt.includes("right")))if(Bt.includes("left")&&Nt<0||Bt.includes("right")&&Nt>0)_t.x=Nt;else{const Oe=Nt*mr(Nt);_t.x=Math.abs(Oe)<Math.abs(Nt)?Oe:Nt}(Math.abs(_t.x)>0||Math.abs(_t.y)>0)&&ot(!0),(at=ut.current)==null||at.style.setProperty("--swipe-amount-x",`${_t.x}px`),(M=ut.current)==null||M.style.setProperty("--swipe-amount-y",`${_t.y}px`)}},pe&&!s.jsx&&et!=="loading"?w.createElement("button",{"aria-label":V,"data-disabled":fe,"data-close-button":!0,onClick:fe||!Pt?()=>{}:()=>{Ht(),s.onDismiss==null||s.onDismiss.call(s,s)},className:qt(N==null?void 0:N.closeButton,s==null||(r=s.classNames)==null?void 0:r.closeButton)},(vn=A==null?void 0:A.close)!=null?vn:za):null,(et||s.icon||s.promise)&&s.icon!==null&&((A==null?void 0:A[et])!==null||s.icon)?w.createElement("div",{"data-icon":"",className:qt(N==null?void 0:N.icon,s==null||(o=s.classNames)==null?void 0:o.icon)},s.promise||s.type==="loading"&&!s.icon?s.icon||Hn():null,s.type!=="loading"?qn:null):null,w.createElement("div",{"data-content":"",className:qt(N==null?void 0:N.content,s==null||(a=s.classNames)==null?void 0:a.content)},w.createElement("div",{"data-title":"",className:qt(N==null?void 0:N.title,s==null||(i=s.classNames)==null?void 0:i.title)},s.jsx?s.jsx:typeof s.title=="function"?s.title():s.title),s.description?w.createElement("div",{"data-description":"",className:qt(k,Re,N==null?void 0:N.description,s==null||(u=s.classNames)==null?void 0:u.description)},typeof s.description=="function"?s.description():s.description):null),w.isValidElement(s.cancel)?s.cancel:s.cancel&&Tn(s.cancel)?w.createElement("button",{"data-button":!0,"data-cancel":!0,style:s.cancelButtonStyle||R,onClick:I=>{Tn(s.cancel)&&Pt&&(s.cancel.onClick==null||s.cancel.onClick.call(s.cancel,I),Ht())},className:qt(N==null?void 0:N.cancelButton,s==null||(d=s.classNames)==null?void 0:d.cancelButton)},s.cancel.label):null,w.isValidElement(s.action)?s.action:s.action&&Tn(s.action)?w.createElement("button",{"data-button":!0,"data-action":!0,style:s.actionButtonStyle||S,onClick:I=>{Tn(s.action)&&(s.action.onClick==null||s.action.onClick.call(s.action,I),!I.defaultPrevented&&Ht())},className:qt(N==null?void 0:N.actionButton,s==null||(p=s.classNames)==null?void 0:p.actionButton)},s.action.label):null)};function jr(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cs(e,t){const n={};return[e,t].forEach((r,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",u=a?ns:es;function d(p){["top","right","bottom","left"].forEach(c=>{n[`${i}-${c}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${i}-${p}`]=u:n[`${i}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):d(u)}),n}const us=w.forwardRef(function(t,n){const{id:r,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:u,closeButton:d,className:p,offset:c,mobileOffset:s,theme:f="light",richColors:m,duration:g,style:h,visibleToasts:y=ts,toastOptions:T,dir:D=jr(),gap:x=os,icons:b,containerAriaLabel:P="Notifications"}=t,[C,j]=w.useState([]),R=w.useMemo(()=>r?C.filter(B=>B.toasterId===r):C.filter(B=>!B.toasterId),[C,r]),S=w.useMemo(()=>Array.from(new Set([a].concat(R.filter(B=>B.position).map(B=>B.position)))),[R,a]),[O,k]=w.useState([]),[U,_]=w.useState(!1),[rt,F]=w.useState(!1),[N,A]=w.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=w.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=w.useRef(null),mt=w.useRef(!1),ht=w.useCallback(B=>{j(H=>{var $;return($=H.find(Z=>Z.id===B.id))!=null&&$.delete||yt.dismiss(B.id),H.filter(({id:Z})=>Z!==B.id)})},[]);return w.useEffect(()=>yt.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{j(H=>H.map($=>$.id===B.id?{...$,delete:!0}:$))});return}setTimeout(()=>{Ze.flushSync(()=>{j(H=>{const $=H.findIndex(Z=>Z.id===B.id);return $!==-1?[...H.slice(0,$),{...H[$],...B},...H.slice($+1)]:[B,...H]})})})}),[C]),w.useEffect(()=>{if(f!=="system"){A(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:H})=>{A(H?"dark":"light")})}catch{B.addListener(({matches:$})=>{try{A($?"dark":"light")}catch(Z){console.error(Z)}})}},[f]),w.useEffect(()=>{C.length<=1&&_(!1)},[C]),w.useEffect(()=>{const B=H=>{var $;if(i.every(L=>H[L]||H.code===L)){var ct;_(!0),(ct=V.current)==null||ct.focus()}H.code==="Escape"&&(document.activeElement===V.current||($=V.current)!=null&&$.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),w.useEffect(()=>{if(V.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,mt.current=!1)}},[V.current]),w.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((B,H)=>{var $;const[Z,ct]=B.split("-");return R.length?w.createElement("ol",{key:B,dir:D==="auto"?jr():D,tabIndex:-1,ref:V,className:p,"data-sonner-toaster":!0,"data-sonner-theme":N,"data-y-position":Z,"data-x-position":ct,style:{"--front-toast-height":`${(($=O[0])==null?void 0:$.height)||0}px`,"--width":`${rs}px`,"--gap":`${x}px`,...h,...cs(c,s)},onBlur:L=>{mt.current&&!L.currentTarget.contains(L.relatedTarget)&&(mt.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||mt.current||(mt.current=!0,q.current=L.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{rt||_(!1)},onDragEnd:()=>_(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},R.filter(L=>!L.position&&H===0||L.position===B).map((L,wt)=>{var le,kt;return w.createElement(ls,{key:L.id,icons:b,index:wt,toast:L,defaultRichColors:m,duration:(le=T==null?void 0:T.duration)!=null?le:g,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:o,visibleToasts:y,closeButton:(kt=T==null?void 0:T.closeButton)!=null?kt:d,interacting:rt,position:B,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,closeButtonAriaLabel:T==null?void 0:T.closeButtonAriaLabel,removeToast:ht,toasts:R.filter(ot=>ot.position==L.position),heights:O.filter(ot=>ot.position==L.position),setHeights:k,expandByDefault:u,gap:x,expanded:U,swipeDirections:t.swipeDirections})})):null}))});class ds extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=ba(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ps({children:e,isPresent:t,anchorX:n,root:r}){const o=E.useId(),a=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=E.useContext(xa);return E.useInsertionEffect(()=>{const{width:d,height:p,top:c,left:s,right:f}=i.current;if(t||!a.current||!d||!p)return;const m=n==="left"?`left: ${s}`:`right: ${f}`;a.current.dataset.motionPopId=o;const g=document.createElement("style");u&&(g.nonce=u);const h=r??document.head;return h.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${m}px !important;
            top: ${c}px !important;
          }
        `),()=>{h.contains(g)&&h.removeChild(g)}},[t]),l.jsx(ds,{isPresent:t,childRef:a,sizeRef:i,children:E.cloneElement(e,{ref:a})})}const fs=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:i,anchorX:u,root:d})=>{const p=uo(ms),c=E.useId();let s=!0,f=E.useMemo(()=>(s=!1,{id:c,initial:t,isPresent:n,custom:o,onExitComplete:m=>{p.set(m,!0);for(const g of p.values())if(!g)return;r&&r()},register:m=>(p.set(m,!1),()=>p.delete(m))}),[n,p,r]);return a&&s&&(f={...f}),E.useMemo(()=>{p.forEach((m,g)=>p.set(g,!1))},[n]),E.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),i==="popLayout"&&(e=l.jsx(ps,{isPresent:n,anchorX:u,root:d,children:e})),l.jsx(wa.Provider,{value:f,children:e})};function ms(){return new Map}const En=e=>e.key||"";function Pr(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const hs=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:i=!1,anchorX:u="left",root:d})=>{const[p,c]=Ta(i),s=E.useMemo(()=>Pr(e),[e]),f=i&&!p?[]:s.map(En),m=E.useRef(!0),g=E.useRef(s),h=uo(()=>new Map),[y,T]=E.useState(s),[D,x]=E.useState(s);Ea(()=>{m.current=!1,g.current=s;for(let C=0;C<D.length;C++){const j=En(D[C]);f.includes(j)?h.delete(j):h.get(j)!==!0&&h.set(j,!1)}},[D,f.length,f.join("-")]);const b=[];if(s!==y){let C=[...s];for(let j=0;j<D.length;j++){const R=D[j],S=En(R);f.includes(S)||(C.splice(j,0,R),b.push(R))}return a==="wait"&&b.length&&(C=b),x(Pr(C)),T(s),null}const{forceRender:P}=E.useContext(Ca);return l.jsx(l.Fragment,{children:D.map(C=>{const j=En(C),R=i&&!p?!1:s===D||f.includes(j),S=()=>{if(h.has(j))h.set(j,!0);else return;let O=!0;h.forEach(k=>{k||(O=!1)}),O&&(P==null||P(),x(g.current),i&&(c==null||c()),r&&r())};return l.jsx(fs,{isPresent:R,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:a,root:d,onExitComplete:R?void 0:S,anchorX:u,children:C},j)})})},ar=(e=60)=>{const t=E.useRef([]);return{checkRateLimit:()=>{const r=Date.now(),o=r-6e4;return t.current=t.current.filter(a=>a>o),t.current.length>=e?!1:(t.current.push(r),!0)}}};function gs(){const{checkRateLimit:e}=ar(50),t=dn(),{isDemoMode:n,demoOverrides:r,updateDemoData:o}=be(),a=Lt({mutationFn:async d=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const p=r.budgets||Qn.map((s,f)=>({...s,id:f+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),c={...d,id:Date.now(),user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return o("budgets",[...p,c]),c}return Vn.create(d)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["budgets"]})},onError:d=>{console.error("Failed to create budget:",d.message)}}),i=Lt({mutationFn:async({id:d,updates:p})=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const s=(r.budgets||Qn).map(f=>f.id===d?{...f,...p,updated_at:new Date().toISOString()}:f);return o("budgets",s),s.find(f=>f.id===d)}return Vn.update(d,p)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["budgets"]})},onError:d=>{console.error("Failed to update budget:",d.message)}}),u=Lt({mutationFn:async d=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const p=r.budgets||Qn;return o("budgets",p.filter(c=>c.id!==d)),Promise.resolve()}return Vn.delete(d)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["budgets"]})},onError:d=>{console.error("Failed to delete budget:",d.message)}});return{createBudget:a,updateBudget:i,deleteBudget:u}}function vs(){const{checkRateLimit:e}=ar(40),t=dn(),{isDemoMode:n,demoOverrides:r,updateDemoData:o}=be(),a=Lt({mutationFn:async c=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const s=r.pots||Ke.map((m,g)=>({...m,id:g+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),f={...c,id:Date.now(),user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return o("pots",[...s,f]),f}return Ye.create(c)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["pots"]})},onError:c=>{console.error("Failed to create pot:",c.message)}}),i=Lt({mutationFn:async({id:c,updates:s})=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const m=(r.pots||Ke.map((g,h)=>({...g,id:h+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))).map(g=>g.id===c?{...g,...s,updated_at:new Date().toISOString()}:g);return o("pots",m),m.find(g=>g.id===c)}return Ye.update(c,s)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["pots"]})},onError:c=>{console.error("Failed to update pot:",c.message)}}),u=Lt({mutationFn:async c=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const s=r.pots||Ke.map((f,m)=>({...f,id:m+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));o("pots",s.filter(f=>f.id!==c));return}return Ye.delete(c)},networkMode:"offlineFirst",onSuccess:()=>{t.invalidateQueries({queryKey:["pots"]})},onError:c=>{console.error("Failed to delete pot:",c.message)}}),d=Lt({mutationFn:async({id:c,amount:s,currentTotal:f,potName:m})=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const h={...{name:`Main → ${m}`,amount:-s,category:"Transfer",transaction_type:"transfer",transaction_date:new Date().toISOString(),pot_id:c},id:Date.now(),user_id:nt,created_at:new Date().toISOString(),avatar_person:null,recurring:!1},y=r.transactions||nn.map((x,b)=>({...x,id:b+1,user_id:nt,created_at:new Date().toISOString()}));o("transactions",[h,...y]);const D=(r.pots||Ke.map((x,b)=>({...x,id:b+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))).map(x=>x.id===c?{...x,total:f+s,updated_at:new Date().toISOString()}:x);o("pots",D)}else await en.create({name:`Main → ${m}`,amount:-s,category:"Transfer",transaction_type:"transfer",transaction_date:new Date().toISOString(),pot_id:c}),await Ye.update(c,{total:f+s})},networkMode:"offlineFirst",onSuccess:async()=>{await Promise.all([t.invalidateQueries({queryKey:["pots"]}),t.invalidateQueries({queryKey:["user-balance-function"]}),t.invalidateQueries({queryKey:["transactions"]})])},onError:c=>{console.error("Failed to add money to pot:",c.message)}}),p=Lt({mutationFn:async({id:c,amount:s,currentTotal:f,potName:m})=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(n){const h={...{name:`${m} → Main`,amount:s,category:"Transfer",transaction_type:"transfer",transaction_date:new Date().toISOString(),pot_id:c},id:Date.now(),user_id:nt,created_at:new Date().toISOString(),avatar_person:null,recurring:!1},y=r.transactions||nn.map((x,b)=>({...x,id:b+1,user_id:nt,created_at:new Date().toISOString()}));o("transactions",[h,...y]);const D=(r.pots||Ke.map((x,b)=>({...x,id:b+1,user_id:nt,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))).map(x=>x.id===c?{...x,total:f-s,updated_at:new Date().toISOString()}:x);o("pots",D)}else await en.create({name:`${m} → Main`,amount:s,category:"Transfer",transaction_type:"transfer",transaction_date:new Date().toISOString(),pot_id:c}),await Ye.update(c,{total:f-s})},networkMode:"offlineFirst",onSuccess:async()=>{await Promise.all([t.invalidateQueries({queryKey:["pots"]}),t.invalidateQueries({queryKey:["user-balance-function"]}),t.invalidateQueries({queryKey:["transactions"]})])},onError:c=>{console.error("Failed to withdraw money from pot:",c.message)}});return{createPot:a,updatePot:i,deletePot:u,addMoneyToPot:d,withdrawMoneyFromPot:p}}function ys(){const{checkRateLimit:e}=ar(100),t=dn(),{user:n,isDemoMode:r,demoOverrides:o,updateDemoData:a}=be(),i=Lt({mutationFn:async p=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(r){const c=o.transactions?structuredClone(o.transactions):nn.map((f,m)=>({...f,id:m+1,user_id:nt,created_at:new Date().toISOString()})),s={...p,id:Date.now(),user_id:nt,created_at:new Date().toISOString()};return a("transactions",[s,...c]),s}return en.create(p)},networkMode:"offlineFirst",onSuccess:()=>{r?t.invalidateQueries({queryKey:["transactions",nt]}):t.invalidateQueries({queryKey:["transactions"]}),t.invalidateQueries({queryKey:["user-balance-function",n==null?void 0:n.id]})},onError:p=>{console.error("Failed to create transaction:",p.message)}}),u=Lt({mutationFn:async({id:p,updates:c})=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(r){const f=(o.transactions?structuredClone(o.transactions):nn.map((m,g)=>({...m,id:g+1,user_id:nt,created_at:new Date().toISOString()}))).map(m=>m.id===p?{...m,...c}:m);return a("transactions",f),f.find(m=>m.id===p)}return en.update(p,c)},networkMode:"offlineFirst",onSuccess:()=>{r?t.invalidateQueries({queryKey:["transactions",nt]}):t.invalidateQueries({queryKey:["transactions"]}),t.invalidateQueries({queryKey:["user-balance-function",n==null?void 0:n.id]})},onError:p=>{console.error("Failed to update transaction:",p.message)}}),d=Lt({mutationFn:async p=>{if(!e())throw new Error("Too many requests. Please wait a moment.");if(r){const c=o.transactions?structuredClone(o.transactions):nn.map((s,f)=>({...s,id:f+1,user_id:nt,created_at:new Date().toISOString()}));a("transactions",c.filter(s=>s.id!==p));return}return en.delete(p)},networkMode:"offlineFirst",onSuccess:()=>{r?t.invalidateQueries({queryKey:["transactions",nt]}):t.invalidateQueries({queryKey:["transactions"]}),t.invalidateQueries({queryKey:["user-balance-function",n==null?void 0:n.id]})},onError:p=>{console.error("Failed to delete transaction:",p.message)}});return{createTransaction:i,updateTransaction:u,deleteTransaction:d}}const xs=()=>{const e=dn(),t=E.useRef(void 0);return{deleteWithUndo:({queryKey:r,idToDelete:o,actualDelete:a,message:i,errorMessage:u})=>{const d=Array.isArray(r)?r[0]:r;t.current&&clearTimeout(t.current),e.setQueryData(r,p=>p&&(Array.isArray(p)?p.filter(c=>c.id!==o):p[d]&&Array.isArray(p[d])?{...p,[d]:p[d].filter(c=>c.id!==o)}:(console.warn("Unknown cache structure, skipping optimistic update:",p),p))),z.success(i,{action:{label:"Cancel",onClick:()=>{clearTimeout(t.current),e.invalidateQueries({queryKey:r})}}}),t.current=setTimeout(async()=>{t.current=void 0;try{await a(),await e.refetchQueries({queryKey:r})}catch{e.invalidateQueries({queryKey:r}),z.error(u)}},4e3)}}},lt=({text:e})=>l.jsx("p",{className:"text-preset-4 text-grey-500",children:e}),ft=({title:e})=>{const{closeModal:t}=we(),n=co.closeModal;return l.jsxs("div",{className:"flex items-center justify-between self-stretch",children:[l.jsx("h2",{className:"text-preset-2 md:text-preset-1 text-grey-900",children:e}),l.jsx(n,{className:"h-6 w-6 cursor-custom text-grey-500 hover:text-grey-900",onClick:t})]})},qe=(e,t)=>[...e].sort((n,r)=>{const o=t&&t.includes(n.value),a=t&&t.includes(r.value);return o&&!a?1:!o&&a?-1:n.label.localeCompare(r.label)}),bs=e=>{const t=pn(e);return t||(Number(e)<=0?"Maximum must be positive":null)},ws=e=>e?null:"Category is required",An={validateCategory:ws,validateBudgetMaximum:bs},Ts=(e,t)=>t<=e,Es=(e,t)=>{const n=pn(e);if(n)return n;const r=Number(e);return r<=0?"Amount must be positive integer":Ts(t,r)?null:"Insufficient funds"},Cs=(e,t)=>{const n=pn(e);if(n)return n;const r=Number(e);return r<=0?"Amount must be a positive integer":r>t?"Cannot withdraw more than pot contains":null},Ss=e=>{const t=e.trim();return t?t.length>=Ut?`Maximum length is ${Ut} symbols`:null:"Pot name is required"},Os=e=>{const t=pn(e);return t||(Number(e)<=0?"Target must be positive":null)},We={validatePotName:Ss,validatePotTarget:Os,validateAmountToAdd:Es,validateAmountToWithdraw:Cs},js=e=>{const t=pn(e);return t||(Number(e)?null:"Transaction amount cannot be 0.")},Ps=(e,t)=>{switch(e){case"income":return ao.some(r=>r.value===t)?null:"Selected category is not valid for income transactions";case"expense":return In.some(r=>r.value===t)?null:"Selected category is not valid for expense transactions";default:return null}},Ds=e=>e.trim()?null:"Transaction name is required",Rn={validateTransactionName:Ds,validateTransactionCategory:Ps,validateTransactionAmount:js},pn=e=>/^-?\d*\.?\d{0,2}$/.test(e)?null:"Invalid symbols used, please use numbers and .",Ns=({onSubmit:e})=>{const{data:{usedColors:t,usedCategories:n}}=io(),r=qe(In,n),o=qe(Bn,t),{values:a,setFieldValue:i,errors:u,validateField:d,validateAll:p}=Te({initialValues:{category:r[0].value,maximum:"",theme:o[0].value},validators:{category:s=>An.validateCategory(s),maximum:s=>An.validateBudgetMaximum(s)}}),c=s=>{s.preventDefault(),p()&&e({category:a.category,maximum:Number(a.maximum),theme:a.theme})};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Add New Budget"}),l.jsx(lt,{text:"Choose a category to set a spending budget. These categories can help you monitor spending."}),l.jsxs("form",{onSubmit:c,className:"flex flex-col gap-4",children:[l.jsx(xe,{label:{showLabel:!0,labelText:"Budget Category"},value:a.category,onChange:s=>i("category",s),onBlur:()=>d("category"),error:u.category,options:r,usedValues:n,showCaret:!0,styles:"flex-col items-start"}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Maximum spending"},input:{value:a.maximum,onChange:s=>i("maximum",s),placeholder:"e.g. 2000",onBlur:()=>d("maximum")},helperText:{showHelper:!1},styles:"flex-col",error:u.maximum,isNumberInput:!0}),l.jsx(xe,{label:{showLabel:!0,labelText:"Theme"},value:a.theme,onChange:s=>i("theme",s),options:o,styles:"flex-col items-start",showColorTag:!0,showCaret:!0,usedValues:t}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Add Budget"})})]})]})},Ms=({budgetCategory:e,onDelete:t,onClose:n})=>l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:`Delete '${e}'?`}),l.jsx(lt,{text:"Are you sure you want to delete this budget? This action cannot be reversed, and all the data inside it will be removed forever."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[l.jsx(Y,{variant:"danger",onClick:t,styles:"p-4 grow",children:"Yes, Confirm Deletion"}),l.jsx(Y,{variant:"secondary",onClick:n,styles:"p-4 grow",children:"No, Go Back"})]})]}),As=({initialValues:e,onSubmit:t})=>{const{closeModal:n}=we(),{data:{usedColors:r,usedCategories:o}}=io(),a=qe(In,o),i=qe(Bn,r),{values:u,setFieldValue:d,errors:p,validateField:c,validateAll:s,isTouched:f}=Te({initialValues:{category:e.category,maximum:e.maximum,theme:e.theme},validators:{category:y=>An.validateCategory(y),maximum:y=>An.validateBudgetMaximum(y)}}),m=o.filter(y=>y!==e.category),g=r.filter(y=>y!==e.theme),h=y=>{y.preventDefault(),s()&&f?t({category:u.category,maximum:Number(u.maximum),theme:u.theme}):n()};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Edit Budget"}),l.jsx(lt,{text:"As your budgets change, feel free to update your spending limits."}),l.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4",children:[l.jsx(xe,{label:{showLabel:!0,labelText:"Budget Category"},value:u.category,onChange:y=>d("category",y),options:a,showCaret:!0,styles:"flex-col items-start",usedValues:m}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Maximum spending"},input:{value:u.maximum,onChange:y=>d("maximum",y),placeholder:"e.g. 2000",onBlur:()=>c("maximum")},helperText:{showHelper:!1},styles:"flex-col",error:p.maximum,isNumberInput:!0}),l.jsx(xe,{label:{showLabel:!0,labelText:"Theme"},value:u.theme,onChange:y=>d("theme",y),options:i,styles:"flex-col items-start",showColorTag:!0,showCaret:!0,usedValues:g}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Save Changes"})})]})]})},Rs=({onSubmit:e})=>{const{data:{usedColors:t}}=lo(),n=qe(Bn,t),{values:r,setFieldValue:o,errors:a,validateField:i,validateAll:u}=Te({initialValues:{potName:"",target:"",theme:n[0].value},validators:{potName:s=>We.validatePotName(s),target:s=>We.validatePotTarget(s)}}),d=s=>{s.preventDefault(),u()&&e({name:r.potName.trim(),target:Number(r.target),theme:r.theme})},p=r.potName.length<=Ut?r.potName.length:Ut,c=Ut-p;return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Add New Pot"}),l.jsx(lt,{text:"Create a pot to set savings targets. These can help keep you on track as you save for special purchases."}),l.jsxs("form",{onSubmit:d,className:"flex flex-col gap-4",children:[l.jsx(Yt,{label:{showLabel:!0,labelText:"Pot Name"},input:{value:r.potName,onChange:s=>o("potName",s),placeholder:"e.g. Holiday Fund",onBlur:()=>i("potName"),maxLength:Ut},helperText:{showHelper:!0,helperText:`${c} characters left`,helperStyles:"self-end"},styles:"flex-col",error:a.potName}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Target"},input:{value:r.target,onChange:s=>o("target",s),onBlur:()=>i("target"),placeholder:"e.g. 2000"},helperText:{showHelper:!1},styles:"flex-col",error:a.target,isNumberInput:!0}),l.jsx(xe,{label:{showLabel:!0,labelText:"Theme"},value:r.theme,onChange:s=>o("theme",s),options:n,styles:"flex-col items-start",showColorTag:!0,showCaret:!0,usedValues:t}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Add Pot"})})]})]})},ks=({pot:e,onAddMoney:t})=>{const{data:{current:n}}=Sa(),{values:r,setFieldValue:o,errors:a,validateField:i,validateAll:u}=Te({initialValues:{amountToAdd:""},validators:{amountToAdd:s=>We.validateAmountToAdd(s,n)}}),d=s=>{s.preventDefault();const f=u(),m=Number(r.amountToAdd);f&&t(m)},p=E.useMemo(()=>{const s=Number(r.amountToAdd);return isNaN(s)||s<0?0:s},[r.amountToAdd]),c=e.total+p;return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:`Add to '${e.name}'`}),l.jsx(lt,{text:"Add money to your pot to keep it separate from your main balance. As soon as you add this money, it will be deducted from your current balance."}),l.jsxs("form",{onSubmit:d,className:"flex flex-col gap-5",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(po,{fieldName:"New Amount",fieldValue:xo(c)}),l.jsx(fo,{pot:e,smallBar:!0,extraMoney:p})]}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Amount to Add"},input:{placeholder:"e.g. 200",value:r.amountToAdd,onChange:s=>o("amountToAdd",s),onBlur:()=>i("amountToAdd")},helperText:{showHelper:!1},styles:"flex-col",error:a.amountToAdd,isNumberInput:!0}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Confirm Addition"})})]})]})},Is=({potName:e,onDelete:t,onClose:n})=>l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:`Delete '${e}'?`}),l.jsx(lt,{text:"Are you sure you want to delete this pot? The remaining funds will be returned to your main balance."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[l.jsx(Y,{variant:"danger",onClick:t,styles:"p-4 grow",children:"Yes, Confirm Deletion"}),l.jsx(Y,{variant:"secondary",onClick:n,styles:"p-4 grow",children:"No, Go Back"})]})]}),Bs=({initialValues:e,onSubmit:t})=>{const{closeModal:n}=we(),{data:{usedColors:r}}=lo(),o=qe(Bn,r),{values:a,setFieldValue:i,errors:u,validateField:d,validateAll:p,isTouched:c}=Te({initialValues:{potName:e.name,target:e.target,theme:e.theme},validators:{potName:m=>We.validatePotName(m),target:m=>We.validatePotTarget(m)}}),s=r.filter(m=>m!==e.theme),f=m=>{m.preventDefault();const g=p(),h=a.potName.trim();g&&c?t({name:h,target:Number(a.target),theme:a.theme}):n()};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Edit Pot"}),l.jsx(lt,{text:"If your saving targets change, feel free to update your pots."}),l.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[l.jsx(Yt,{label:{showLabel:!0,labelText:"Pot Name"},input:{value:a.potName,onChange:m=>i("potName",m),placeholder:"",onBlur:()=>d("potName")},helperText:{showHelper:!0,helperText:`${30-a.potName.length} characters left`,helperStyles:"self-end"},styles:"flex-col",error:u.potName}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Target"},input:{value:a.target,onChange:m=>i("target",m),onBlur:()=>d("target"),placeholder:""},helperText:{showHelper:!1},styles:"flex-col",error:u.target,isNumberInput:!0}),l.jsx(xe,{label:{showLabel:!0,labelText:"Theme"},value:a.theme,onChange:m=>i("theme",m),options:o,styles:"flex-col items-start",showColorTag:!0,showCaret:!0,usedValues:s}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Save Changes"})})]})]})},_s=({pot:e,onWithdrawMoney:t})=>{const{values:n,setFieldValue:r,errors:o,validateField:a,validateAll:i}=Te({initialValues:{amountToWithdraw:""},validators:{amountToWithdraw:s=>We.validateAmountToWithdraw(s,e.total)}}),u=s=>{s.preventDefault();const f=i(),m=Number(n.amountToWithdraw);f&&t(m)},d=E.useMemo(()=>{const s=Number(n.amountToWithdraw);return isNaN(s)||s<0?0:s},[n.amountToWithdraw]),p=e.total-d,c=p<=0?0:p;return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:`Withdraw from '${e.name}'`}),l.jsx(lt,{text:"Withdraw from your pot to put money back in your main balance. This will reduce the amount you have in this pot."}),l.jsxs("form",{onSubmit:u,className:"flex flex-col gap-5",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(po,{fieldName:"New Amount",fieldValue:xo(c)}),l.jsx(fo,{pot:e,smallBar:!0,extraMoney:-d,withDrawView:!0})]}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Amount to Withdraw"},input:{placeholder:"e.g. 200",value:n.amountToWithdraw,onChange:s=>r("amountToWithdraw",s),onBlur:()=>a("amountToWithdraw")},helperText:{showHelper:!1},styles:"flex-col",error:o.amountToWithdraw,isNumberInput:!0}),l.jsx("div",{className:"flex flex-col gap-5",children:l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",children:"Confirm Withdrawal"})})]})]})},Dr=({isSelected:e,tabName:t,onClick:n})=>l.jsxs("button",{type:"button",className:St("relative flex-1 items-center justify-center flex","p-2","rounded-xl","z-10"),onClick:n,children:[e&&l.jsx(_e.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white rounded-xl",transition:{type:"spring",duration:.5,bounce:.2}}),l.jsx("p",{className:"relative z-10",children:t})]}),wo=({isBasic:e,setBasicTab:t,setAdvancedTab:n})=>l.jsxs("div",{className:St("flex justify-between items-center","bg-grey-100","p-1 gap-1","rounded-xl"),children:[l.jsx(Dr,{isSelected:e,tabName:"Basic",onClick:t}),l.jsx(Dr,{isSelected:!e,tabName:"Advanced",onClick:n})]}),Nr={};function Fs(e,t){const n=E.useRef(Nr);return n.current===Nr&&(n.current=e(t)),n}const Ls=[];function $s(e){E.useEffect(e,Ls)}class Fn{constructor(){xn(this,"currentId",null);xn(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});xn(this,"disposeEffect",()=>this.clear)}static create(){return new Fn}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Je(){const e=Fs(Fn.create).current;return $s(e.disposeEffect),e}const Hs=E.createContext(),To=()=>E.useContext(Hs)??!1;function Mr(e){try{return e.matches(":focus-visible")}catch{}return!1}function sr(e){var t;return parseInt(E.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function qs(e){return Object.keys(e).length===0}function Ws(e=null){const t=E.useContext(Oa);return!t||qs(t)?e:t}const Qs=ja();function Vs(e=Qs){return Ws(e)}const an=typeof window<"u"?E.useLayoutEffect:E.useEffect;let Ar=0;function zs(e){const[t,n]=E.useState(e),r=e||t;return E.useEffect(()=>{t==null&&(Ar+=1,n(`mui-${Ar}`))},[t]),r}const Us={...Vo},Rr=Us.useId;function Ks(e){if(Rr!==void 0){const t=Rr();return e??t}return zs(e)}function Eo(){const e=Vs(Da);return e[Pa]||e}function Ys(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yn(e,t){return Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yn(e,t)}function Xs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yn(e,t)}const kr={disabled:!1},Co=w.createContext(null);var Gs=function(t){return t.scrollTop},tn="unmounted",je="exited",Pe="entering",Be="entered",Xn="exiting",ie=function(e){Xs(t,e);function t(r,o){var a;a=e.call(this,r,o)||this;var i=o,u=i&&!i.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?u?(d=je,a.appearStatus=Pe):d=Be:r.unmountOnExit||r.mountOnEnter?d=tn:d=je,a.state={status:d},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var i=o.in;return i&&a.status===tn?{status:je}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var i=this.state.status;this.props.in?i!==Pe&&i!==Be&&(a=Pe):(i===Pe||i===Be)&&(a=Xn)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,i,u;return a=i=u=o,o!=null&&typeof o!="number"&&(a=o.exit,i=o.enter,u=o.appear!==void 0?o.appear:i),{exit:a,enter:i,appear:u}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Pe){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Ze.findDOMNode(this);i&&Gs(i)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===je&&this.setState({status:tn})},n.performEnter=function(o){var a=this,i=this.props.enter,u=this.context?this.context.isMounting:o,d=this.props.nodeRef?[u]:[Ze.findDOMNode(this),u],p=d[0],c=d[1],s=this.getTimeouts(),f=u?s.appear:s.enter;if(!o&&!i||kr.disabled){this.safeSetState({status:Be},function(){a.props.onEntered(p)});return}this.props.onEnter(p,c),this.safeSetState({status:Pe},function(){a.props.onEntering(p,c),a.onTransitionEnd(f,function(){a.safeSetState({status:Be},function(){a.props.onEntered(p,c)})})})},n.performExit=function(){var o=this,a=this.props.exit,i=this.getTimeouts(),u=this.props.nodeRef?void 0:Ze.findDOMNode(this);if(!a||kr.disabled){this.safeSetState({status:je},function(){o.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Xn},function(){o.props.onExiting(u),o.onTransitionEnd(i.exit,function(){o.safeSetState({status:je},function(){o.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,i=!0;return this.nextCallback=function(u){i&&(i=!1,a.nextCallback=null,o(u))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:Ze.findDOMNode(this),u=o==null&&!this.props.addEndListener;if(!i||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],p=d[0],c=d[1];this.props.addEndListener(p,c)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===tn)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=Ys(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return w.createElement(Co.Provider,{value:null},typeof i=="function"?i(o,u):w.cloneElement(w.Children.only(i),u))},t}(w.Component);ie.contextType=Co;ie.propTypes={};function Ie(){}ie.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ie,onEntering:Ie,onEntered:Ie,onExit:Ie,onExiting:Ie,onExited:Ie};ie.UNMOUNTED=tn;ie.EXITED=je;ie.ENTERING=Pe;ie.ENTERED=Be;ie.EXITING=Xn;const Zs=e=>e.scrollTop;function Ir(e,t){const{timeout:n,easing:r,style:o={}}=e;return{duration:o.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:o.transitionDelay}}function Me(...e){const t=E.useRef(void 0),n=E.useCallback(r=>{const o=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const i=a,u=i(r);return typeof u=="function"?u:()=>{i(null)}}return a.current=r,()=>{a.current=null}});return()=>{o.forEach(a=>a==null?void 0:a())}},e);return E.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Gn(e){return`scale(${e}, ${e**2})`}const Js={entering:{opacity:1,transform:Gn(1)},entered:{opacity:1,transform:"none"}},zn=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Zn=E.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:a,easing:i,in:u,onEnter:d,onEntered:p,onEntering:c,onExit:s,onExited:f,onExiting:m,style:g,timeout:h="auto",TransitionComponent:y=ie,...T}=t,D=Je(),x=E.useRef(),b=Eo(),P=E.useRef(null),C=Me(P,sr(a),n),j=F=>N=>{if(F){const A=P.current;N===void 0?F(A):F(A,N)}},R=j(c),S=j((F,N)=>{Zs(F);const{duration:A,delay:V,easing:W}=Ir({style:g,timeout:h,easing:i},{mode:"enter"});let q;h==="auto"?(q=b.transitions.getAutoHeightDuration(F.clientHeight),x.current=q):q=A,F.style.transition=[b.transitions.create("opacity",{duration:q,delay:V}),b.transitions.create("transform",{duration:zn?q:q*.666,delay:V,easing:W})].join(","),d&&d(F,N)}),O=j(p),k=j(m),U=j(F=>{const{duration:N,delay:A,easing:V}=Ir({style:g,timeout:h,easing:i},{mode:"exit"});let W;h==="auto"?(W=b.transitions.getAutoHeightDuration(F.clientHeight),x.current=W):W=N,F.style.transition=[b.transitions.create("opacity",{duration:W,delay:A}),b.transitions.create("transform",{duration:zn?W:W*.666,delay:zn?A:A||W*.333,easing:V})].join(","),F.style.opacity=0,F.style.transform=Gn(.75),s&&s(F)}),_=j(f),rt=F=>{h==="auto"&&D.start(x.current||0,F),r&&r(P.current,F)};return l.jsx(y,{appear:o,in:u,nodeRef:P,onEnter:S,onEntered:O,onEntering:R,onExit:U,onExited:_,onExiting:k,addEndListener:rt,timeout:h==="auto"?null:h,...T,children:(F,{ownerState:N,...A})=>E.cloneElement(a,{style:{opacity:0,transform:Gn(.75),visibility:F==="exited"&&!u?"hidden":void 0,...Js[F],...g,...a.props.style},ref:C,...A})})});Zn&&(Zn.muiSupportAuto=!0);function Br(e){return e&&e.ownerDocument||document}var xt="top",At="bottom",Rt="right",bt="left",ir="auto",fn=[xt,At,Rt,bt],Qe="start",sn="end",ti="clippingParents",So="viewport",Xe="popper",ei="reference",_r=fn.reduce(function(e,t){return e.concat([t+"-"+Qe,t+"-"+sn])},[]),Oo=[].concat(fn,[ir]).reduce(function(e,t){return e.concat([t,t+"-"+Qe,t+"-"+sn])},[]),ni="beforeRead",ri="read",oi="afterRead",ai="beforeMain",si="main",ii="afterMain",li="beforeWrite",ci="write",ui="afterWrite",di=[ni,ri,oi,ai,si,ii,li,ci,ui];function Xt(e){return e?(e.nodeName||"").toLowerCase():null}function Ot(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ae(e){var t=Ot(e).Element;return e instanceof t||e instanceof Element}function Mt(e){var t=Ot(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function lr(e){if(typeof ShadowRoot>"u")return!1;var t=Ot(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function pi(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},a=t.elements[n];!Mt(a)||!Xt(a)||(Object.assign(a.style,r),Object.keys(o).forEach(function(i){var u=o[i];u===!1?a.removeAttribute(i):a.setAttribute(i,u===!0?"":u)}))})}function fi(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],a=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=i.reduce(function(d,p){return d[p]="",d},{});!Mt(o)||!Xt(o)||(Object.assign(o.style,u),Object.keys(a).forEach(function(d){o.removeAttribute(d)}))})}}const mi={name:"applyStyles",enabled:!0,phase:"write",fn:pi,effect:fi,requires:["computeStyles"]};function Kt(e){return e.split("-")[0]}var Ne=Math.max,kn=Math.min,Ve=Math.round;function Jn(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jo(){return!/^((?!chrome|android).)*safari/i.test(Jn())}function ze(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&Mt(e)&&(o=e.offsetWidth>0&&Ve(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ve(r.height)/e.offsetHeight||1);var i=Ae(e)?Ot(e):window,u=i.visualViewport,d=!jo()&&n,p=(r.left+(d&&u?u.offsetLeft:0))/o,c=(r.top+(d&&u?u.offsetTop:0))/a,s=r.width/o,f=r.height/a;return{width:s,height:f,top:c,right:p+s,bottom:c+f,left:p,x:p,y:c}}function cr(e){var t=ze(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Po(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function se(e){return Ot(e).getComputedStyle(e)}function hi(e){return["table","td","th"].indexOf(Xt(e))>=0}function Ee(e){return((Ae(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ln(e){return Xt(e)==="html"?e:e.assignedSlot||e.parentNode||(lr(e)?e.host:null)||Ee(e)}function Fr(e){return!Mt(e)||se(e).position==="fixed"?null:e.offsetParent}function gi(e){var t=/firefox/i.test(Jn()),n=/Trident/i.test(Jn());if(n&&Mt(e)){var r=se(e);if(r.position==="fixed")return null}var o=Ln(e);for(lr(o)&&(o=o.host);Mt(o)&&["html","body"].indexOf(Xt(o))<0;){var a=se(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function mn(e){for(var t=Ot(e),n=Fr(e);n&&hi(n)&&se(n).position==="static";)n=Fr(n);return n&&(Xt(n)==="html"||Xt(n)==="body"&&se(n).position==="static")?t:n||gi(e)||t}function ur(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function rn(e,t,n){return Ne(e,kn(t,n))}function vi(e,t,n){var r=rn(e,t,n);return r>n?n:r}function Do(){return{top:0,right:0,bottom:0,left:0}}function No(e){return Object.assign({},Do(),e)}function Mo(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var yi=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,No(typeof t!="number"?t:Mo(t,fn))};function xi(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,u=Kt(n.placement),d=ur(u),p=[bt,Rt].indexOf(u)>=0,c=p?"height":"width";if(!(!a||!i)){var s=yi(o.padding,n),f=cr(a),m=d==="y"?xt:bt,g=d==="y"?At:Rt,h=n.rects.reference[c]+n.rects.reference[d]-i[d]-n.rects.popper[c],y=i[d]-n.rects.reference[d],T=mn(a),D=T?d==="y"?T.clientHeight||0:T.clientWidth||0:0,x=h/2-y/2,b=s[m],P=D-f[c]-s[g],C=D/2-f[c]/2+x,j=rn(b,C,P),R=d;n.modifiersData[r]=(t={},t[R]=j,t.centerOffset=j-C,t)}}function bi(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Po(t.elements.popper,o)&&(t.elements.arrow=o))}const wi={name:"arrow",enabled:!0,phase:"main",fn:xi,effect:bi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ue(e){return e.split("-")[1]}var Ti={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ei(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ve(n*o)/o||0,y:Ve(r*o)/o||0}}function Lr(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,u=e.position,d=e.gpuAcceleration,p=e.adaptive,c=e.roundOffsets,s=e.isFixed,f=i.x,m=f===void 0?0:f,g=i.y,h=g===void 0?0:g,y=typeof c=="function"?c({x:m,y:h}):{x:m,y:h};m=y.x,h=y.y;var T=i.hasOwnProperty("x"),D=i.hasOwnProperty("y"),x=bt,b=xt,P=window;if(p){var C=mn(n),j="clientHeight",R="clientWidth";if(C===Ot(n)&&(C=Ee(n),se(C).position!=="static"&&u==="absolute"&&(j="scrollHeight",R="scrollWidth")),C=C,o===xt||(o===bt||o===Rt)&&a===sn){b=At;var S=s&&C===P&&P.visualViewport?P.visualViewport.height:C[j];h-=S-r.height,h*=d?1:-1}if(o===bt||(o===xt||o===At)&&a===sn){x=Rt;var O=s&&C===P&&P.visualViewport?P.visualViewport.width:C[R];m-=O-r.width,m*=d?1:-1}}var k=Object.assign({position:u},p&&Ti),U=c===!0?Ei({x:m,y:h},Ot(n)):{x:m,y:h};if(m=U.x,h=U.y,d){var _;return Object.assign({},k,(_={},_[b]=D?"0":"",_[x]=T?"0":"",_.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+h+"px)":"translate3d("+m+"px, "+h+"px, 0)",_))}return Object.assign({},k,(t={},t[b]=D?h+"px":"",t[x]=T?m+"px":"",t.transform="",t))}function Ci(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,i=a===void 0?!0:a,u=n.roundOffsets,d=u===void 0?!0:u,p={placement:Kt(t.placement),variation:Ue(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Lr(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Lr(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Si={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ci,data:{}};var Cn={passive:!0};function Oi(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=o===void 0?!0:o,i=r.resize,u=i===void 0?!0:i,d=Ot(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(c){c.addEventListener("scroll",n.update,Cn)}),u&&d.addEventListener("resize",n.update,Cn),function(){a&&p.forEach(function(c){c.removeEventListener("scroll",n.update,Cn)}),u&&d.removeEventListener("resize",n.update,Cn)}}const ji={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Oi,data:{}};var Pi={left:"right",right:"left",bottom:"top",top:"bottom"};function Dn(e){return e.replace(/left|right|bottom|top/g,function(t){return Pi[t]})}var Di={start:"end",end:"start"};function $r(e){return e.replace(/start|end/g,function(t){return Di[t]})}function dr(e){var t=Ot(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pr(e){return ze(Ee(e)).left+dr(e).scrollLeft}function Ni(e,t){var n=Ot(e),r=Ee(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,u=0,d=0;if(o){a=o.width,i=o.height;var p=jo();(p||!p&&t==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:a,height:i,x:u+pr(e),y:d}}function Mi(e){var t,n=Ee(e),r=dr(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=Ne(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Ne(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+pr(e),d=-r.scrollTop;return se(o||n).direction==="rtl"&&(u+=Ne(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:u,y:d}}function fr(e){var t=se(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Ao(e){return["html","body","#document"].indexOf(Xt(e))>=0?e.ownerDocument.body:Mt(e)&&fr(e)?e:Ao(Ln(e))}function on(e,t){var n;t===void 0&&(t=[]);var r=Ao(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ot(r),i=o?[a].concat(a.visualViewport||[],fr(r)?r:[]):r,u=t.concat(i);return o?u:u.concat(on(Ln(i)))}function tr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ai(e,t){var n=ze(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Hr(e,t,n){return t===So?tr(Ni(e,n)):Ae(t)?Ai(t,n):tr(Mi(Ee(e)))}function Ri(e){var t=on(Ln(e)),n=["absolute","fixed"].indexOf(se(e).position)>=0,r=n&&Mt(e)?mn(e):e;return Ae(r)?t.filter(function(o){return Ae(o)&&Po(o,r)&&Xt(o)!=="body"}):[]}function ki(e,t,n,r){var o=t==="clippingParents"?Ri(e):[].concat(t),a=[].concat(o,[n]),i=a[0],u=a.reduce(function(d,p){var c=Hr(e,p,r);return d.top=Ne(c.top,d.top),d.right=kn(c.right,d.right),d.bottom=kn(c.bottom,d.bottom),d.left=Ne(c.left,d.left),d},Hr(e,i,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Ro(e){var t=e.reference,n=e.element,r=e.placement,o=r?Kt(r):null,a=r?Ue(r):null,i=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(o){case xt:d={x:i,y:t.y-n.height};break;case At:d={x:i,y:t.y+t.height};break;case Rt:d={x:t.x+t.width,y:u};break;case bt:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var p=o?ur(o):null;if(p!=null){var c=p==="y"?"height":"width";switch(a){case Qe:d[p]=d[p]-(t[c]/2-n[c]/2);break;case sn:d[p]=d[p]+(t[c]/2-n[c]/2);break}}return d}function ln(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,a=n.strategy,i=a===void 0?e.strategy:a,u=n.boundary,d=u===void 0?ti:u,p=n.rootBoundary,c=p===void 0?So:p,s=n.elementContext,f=s===void 0?Xe:s,m=n.altBoundary,g=m===void 0?!1:m,h=n.padding,y=h===void 0?0:h,T=No(typeof y!="number"?y:Mo(y,fn)),D=f===Xe?ei:Xe,x=e.rects.popper,b=e.elements[g?D:f],P=ki(Ae(b)?b:b.contextElement||Ee(e.elements.popper),d,c,i),C=ze(e.elements.reference),j=Ro({reference:C,element:x,placement:o}),R=tr(Object.assign({},x,j)),S=f===Xe?R:C,O={top:P.top-S.top+T.top,bottom:S.bottom-P.bottom+T.bottom,left:P.left-S.left+T.left,right:S.right-P.right+T.right},k=e.modifiersData.offset;if(f===Xe&&k){var U=k[o];Object.keys(O).forEach(function(_){var rt=[Rt,At].indexOf(_)>=0?1:-1,F=[xt,At].indexOf(_)>=0?"y":"x";O[_]+=U[F]*rt})}return O}function Ii(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,p=d===void 0?Oo:d,c=Ue(r),s=c?u?_r:_r.filter(function(g){return Ue(g)===c}):fn,f=s.filter(function(g){return p.indexOf(g)>=0});f.length===0&&(f=s);var m=f.reduce(function(g,h){return g[h]=ln(e,{placement:h,boundary:o,rootBoundary:a,padding:i})[Kt(h)],g},{});return Object.keys(m).sort(function(g,h){return m[g]-m[h]})}function Bi(e){if(Kt(e)===ir)return[];var t=Dn(e);return[$r(e),t,$r(t)]}function _i(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,i=n.altAxis,u=i===void 0?!0:i,d=n.fallbackPlacements,p=n.padding,c=n.boundary,s=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,h=n.allowedAutoPlacements,y=t.options.placement,T=Kt(y),D=T===y,x=d||(D||!g?[Dn(y)]:Bi(y)),b=[y].concat(x).reduce(function(H,$){return H.concat(Kt($)===ir?Ii(t,{placement:$,boundary:c,rootBoundary:s,padding:p,flipVariations:g,allowedAutoPlacements:h}):$)},[]),P=t.rects.reference,C=t.rects.popper,j=new Map,R=!0,S=b[0],O=0;O<b.length;O++){var k=b[O],U=Kt(k),_=Ue(k)===Qe,rt=[xt,At].indexOf(U)>=0,F=rt?"width":"height",N=ln(t,{placement:k,boundary:c,rootBoundary:s,altBoundary:f,padding:p}),A=rt?_?Rt:bt:_?At:xt;P[F]>C[F]&&(A=Dn(A));var V=Dn(A),W=[];if(a&&W.push(N[U]<=0),u&&W.push(N[A]<=0,N[V]<=0),W.every(function(H){return H})){S=k,R=!1;break}j.set(k,W)}if(R)for(var q=g?3:1,mt=function($){var Z=b.find(function(ct){var L=j.get(ct);if(L)return L.slice(0,$).every(function(wt){return wt})});if(Z)return S=Z,"break"},ht=q;ht>0;ht--){var B=mt(ht);if(B==="break")break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}}const Fi={name:"flip",enabled:!0,phase:"main",fn:_i,requiresIfExists:["offset"],data:{_skip:!1}};function qr(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Wr(e){return[xt,Rt,At,bt].some(function(t){return e[t]>=0})}function Li(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=ln(t,{elementContext:"reference"}),u=ln(t,{altBoundary:!0}),d=qr(i,r),p=qr(u,o,a),c=Wr(d),s=Wr(p);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:c,hasPopperEscaped:s},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":s})}const $i={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Li};function Hi(e,t,n){var r=Kt(e),o=[bt,xt].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=a[0],u=a[1];return i=i||0,u=(u||0)*o,[bt,Rt].indexOf(r)>=0?{x:u,y:i}:{x:i,y:u}}function qi(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=o===void 0?[0,0]:o,i=Oo.reduce(function(c,s){return c[s]=Hi(s,t.rects,a),c},{}),u=i[t.placement],d=u.x,p=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=i}const Wi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qi};function Qi(e){var t=e.state,n=e.name;t.modifiersData[n]=Ro({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Vi={name:"popperOffsets",enabled:!0,phase:"read",fn:Qi,data:{}};function zi(e){return e==="x"?"y":"x"}function Ui(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=o===void 0?!0:o,i=n.altAxis,u=i===void 0?!1:i,d=n.boundary,p=n.rootBoundary,c=n.altBoundary,s=n.padding,f=n.tether,m=f===void 0?!0:f,g=n.tetherOffset,h=g===void 0?0:g,y=ln(t,{boundary:d,rootBoundary:p,padding:s,altBoundary:c}),T=Kt(t.placement),D=Ue(t.placement),x=!D,b=ur(T),P=zi(b),C=t.modifiersData.popperOffsets,j=t.rects.reference,R=t.rects.popper,S=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,O=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(C){if(a){var _,rt=b==="y"?xt:bt,F=b==="y"?At:Rt,N=b==="y"?"height":"width",A=C[b],V=A+y[rt],W=A-y[F],q=m?-R[N]/2:0,mt=D===Qe?j[N]:R[N],ht=D===Qe?-R[N]:-j[N],B=t.elements.arrow,H=m&&B?cr(B):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Do(),Z=$[rt],ct=$[F],L=rn(0,j[N],H[N]),wt=x?j[N]/2-q-L-Z-O.mainAxis:mt-L-Z-O.mainAxis,le=x?-j[N]/2+q+L+ct+O.mainAxis:ht+L+ct+O.mainAxis,kt=t.elements.arrow&&mn(t.elements.arrow),ot=kt?b==="y"?kt.clientTop||0:kt.clientLeft||0:0,ce=(_=k==null?void 0:k[b])!=null?_:0,It=A+wt-ce-ot,ue=A+le-ce,de=rn(m?kn(V,It):V,A,m?Ne(W,ue):W);C[b]=de,U[b]=de-A}if(u){var Tt,Gt=b==="x"?xt:bt,ut=b==="x"?At:Rt,jt=C[P],Zt=P==="y"?"height":"width",et=jt+y[Gt],Pt=jt-y[ut],Ce=[xt,bt].indexOf(T)!==-1,Re=(Tt=k==null?void 0:k[P])!=null?Tt:0,Jt=Ce?et:jt-j[Zt]-R[Zt]-Re+O.altAxis,pe=Ce?jt+j[Zt]+R[Zt]-Re-O.altAxis:Pt,Se=m&&Ce?vi(Jt,jt,pe):rn(m?Jt:et,jt,m?pe:Pt);C[P]=Se,U[P]=Se-jt}t.modifiersData[r]=U}}const Ki={name:"preventOverflow",enabled:!0,phase:"main",fn:Ui,requiresIfExists:["offset"]};function Yi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Xi(e){return e===Ot(e)||!Mt(e)?dr(e):Yi(e)}function Gi(e){var t=e.getBoundingClientRect(),n=Ve(t.width)/e.offsetWidth||1,r=Ve(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Zi(e,t,n){n===void 0&&(n=!1);var r=Mt(t),o=Mt(t)&&Gi(t),a=Ee(t),i=ze(e,o,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Xt(t)!=="body"||fr(a))&&(u=Xi(t)),Mt(t)?(d=ze(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=pr(a))),{x:i.left+u.scrollLeft-d.x,y:i.top+u.scrollTop-d.y,width:i.width,height:i.height}}function Ji(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function o(a){n.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&o(d)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||o(a)}),r}function tl(e){var t=Ji(e);return di.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function el(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function nl(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Qr={placement:"bottom",modifiers:[],strategy:"absolute"};function Vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rl(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,a=o===void 0?Qr:o;return function(u,d,p){p===void 0&&(p=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qr,a),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},s=[],f=!1,m={state:c,setOptions:function(T){var D=typeof T=="function"?T(c.options):T;h(),c.options=Object.assign({},a,c.options,D),c.scrollParents={reference:Ae(u)?on(u):u.contextElement?on(u.contextElement):[],popper:on(d)};var x=tl(nl([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(b){return b.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var T=c.elements,D=T.reference,x=T.popper;if(Vr(D,x)){c.rects={reference:Zi(D,mn(x),c.options.strategy==="fixed"),popper:cr(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var P=c.orderedModifiers[b],C=P.fn,j=P.options,R=j===void 0?{}:j,S=P.name;typeof C=="function"&&(c=C({state:c,options:R,name:S,instance:m})||c)}}}},update:el(function(){return new Promise(function(y){m.forceUpdate(),y(c)})}),destroy:function(){h(),f=!0}};if(!Vr(u,d))return m;m.setOptions(p).then(function(y){!f&&p.onFirstUpdate&&p.onFirstUpdate(y)});function g(){c.orderedModifiers.forEach(function(y){var T=y.name,D=y.options,x=D===void 0?{}:D,b=y.effect;if(typeof b=="function"){var P=b({state:c,name:T,instance:m,options:x}),C=function(){};s.push(P||C)}})}function h(){s.forEach(function(y){return y()}),s=[]}return m}}var ol=[ji,Vi,Si,mi,Wi,Fi,Ki,wi,$i],al=rl({defaultModifiers:ol});function sl(e){return typeof e=="string"}function ko(e,t,n){return e===void 0||sl(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function il(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function zr(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Io(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const m=Mn(n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},h={...n,...o,...r};return m.length>0&&(h.className=m),Object.keys(g).length>0&&(h.style=g),{props:h,internalRef:void 0}}const i=il({...o,...r}),u=zr(r),d=zr(o),p=t(i),c=Mn(p==null?void 0:p.className,n==null?void 0:n.className,a,o==null?void 0:o.className,r==null?void 0:r.className),s={...p==null?void 0:p.style,...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},f={...p,...n,...d,...u};return c.length>0&&(f.className=c),Object.keys(s).length>0&&(f.style=s),{props:f,internalRef:p.ref}}function Bo(e,t,n){return typeof e=="function"?e(t,n):e}function ll(e){var s;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...a}=e,i=o?{}:Bo(n,r),{props:u,internalRef:d}=Io({...a,externalSlotProps:i}),p=Me(d,i==null?void 0:i.ref,(s=e.additionalProps)==null?void 0:s.ref);return ko(t,{...u,ref:p},r)}function Ur(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function cl(e){return typeof e=="function"?e():e}const ul=E.forwardRef(function(t,n){const{children:r,container:o,disablePortal:a=!1}=t,[i,u]=E.useState(null),d=Me(E.isValidElement(r)?sr(r):null,n);if(an(()=>{a||u(cl(o)||document.body)},[o,a]),an(()=>{if(i&&!a)return Ur(n,i),()=>{Ur(n,null)}},[n,i,a]),a){if(E.isValidElement(r)){const p={ref:d};return E.cloneElement(r,p)}return r}return i&&so.createPortal(r,i)});function dl(e){return mo("MuiPopper",e)}ho("MuiPopper",["root"]);function pl(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function er(e){return typeof e=="function"?e():e}function fl(e){return e.nodeType!==void 0}const ml=e=>{const{classes:t}=e;return go({root:["root"]},dl,t)},hl={},gl=E.forwardRef(function(t,n){const{anchorEl:r,children:o,direction:a,disablePortal:i,modifiers:u,open:d,placement:p,popperOptions:c,popperRef:s,slotProps:f={},slots:m={},TransitionProps:g,ownerState:h,...y}=t,T=E.useRef(null),D=Me(T,n),x=E.useRef(null),b=Me(x,s),P=E.useRef(b);an(()=>{P.current=b},[b]),E.useImperativeHandle(s,()=>x.current,[]);const C=pl(p,a),[j,R]=E.useState(C),[S,O]=E.useState(er(r));E.useEffect(()=>{x.current&&x.current.forceUpdate()}),E.useEffect(()=>{r&&O(er(r))},[r]),an(()=>{if(!S||!d)return;const F=V=>{R(V.placement)};let N=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:V})=>{F(V)}}];u!=null&&(N=N.concat(u)),c&&c.modifiers!=null&&(N=N.concat(c.modifiers));const A=al(S,T.current,{placement:C,...c,modifiers:N});return P.current(A),()=>{A.destroy(),P.current(null)}},[S,i,u,d,c,C]);const k={placement:j};g!==null&&(k.TransitionProps=g);const U=ml(t),_=m.root??"div",rt=ll({elementType:_,externalSlotProps:f.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:D},ownerState:t,className:U.root});return l.jsx(_,{...rt,children:typeof o=="function"?o(k):o})}),vl=E.forwardRef(function(t,n){const{anchorEl:r,children:o,container:a,direction:i="ltr",disablePortal:u=!1,keepMounted:d=!1,modifiers:p,open:c,placement:s="bottom",popperOptions:f=hl,popperRef:m,style:g,transition:h=!1,slotProps:y={},slots:T={},...D}=t,[x,b]=E.useState(!0),P=()=>{b(!1)},C=()=>{b(!0)};if(!d&&!c&&(!h||x))return null;let j;if(a)j=a;else if(r){const O=er(r);j=O&&fl(O)?Br(O).body:Br(null).body}const R=!c&&d&&(!h||x)?"none":void 0,S=h?{in:c,onEnter:P,onExited:C}:void 0;return l.jsx(ul,{disablePortal:u,container:j,children:l.jsx(gl,{anchorEl:r,direction:i,disablePortal:u,modifiers:p,ref:n,open:h?!x:c,placement:s,popperOptions:f,popperRef:m,slotProps:y,slots:T,...D,style:{position:"fixed",top:0,left:0,display:R,...g},TransitionProps:S,children:o})})}),yl=_n(vl,{name:"MuiPopper",slot:"Root"})({}),_o=E.forwardRef(function(t,n){const r=To(),o=vo({props:t,name:"MuiPopper"}),{anchorEl:a,component:i,components:u,componentsProps:d,container:p,disablePortal:c,keepMounted:s,modifiers:f,open:m,placement:g,popperOptions:h,popperRef:y,transition:T,slots:D,slotProps:x,...b}=o,P=(D==null?void 0:D.root)??(u==null?void 0:u.Root),C={anchorEl:a,container:p,disablePortal:c,keepMounted:s,modifiers:f,open:m,placement:g,popperOptions:h,popperRef:y,transition:T,...b};return l.jsx(yl,{as:i,direction:r?"rtl":"ltr",slots:{root:P},slotProps:x??d,...C,ref:n})});function Kr(e){const t=E.useRef(e);return an(()=>{t.current=e}),E.useRef((...n)=>(0,t.current)(...n)).current}function xl(e){const{controlled:t,default:n}=e,{current:r}=E.useRef(t!==void 0),[o,a]=E.useState(n),i=r?t:o,u=E.useCallback(d=>{r||a(d)},[]);return[i,u]}function Sn(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,internalForwardedProps:i,shouldForwardComponentProp:u=!1,...d}=t,{component:p,slots:c={[e]:void 0},slotProps:s={[e]:void 0},...f}=a,m=c[e]||r,g=Bo(s[e],o),{props:{component:h,...y},internalRef:T}=Io({className:n,...d,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:g}),D=Me(T,g==null?void 0:g.ref,t.ref),x=e==="root"?h||p:h,b=ko(m,{...e==="root"&&!p&&!c[e]&&i,...e!=="root"&&!c[e]&&i,...y,...x&&!u&&{as:x},...x&&u&&{component:x},ref:D},o);return[m,b]}function bl(e){return mo("MuiTooltip",e)}const G=ho("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function wl(e){return Math.round(e*1e5)/1e5}const Tl=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:a}=e,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${yo(a.split("-")[0])}`],arrow:["arrow"]};return go(i,bl,t)},El=_n(_o,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(or(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${G.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${G.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${G.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${G.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${G.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${G.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${G.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${G.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Cl=_n("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${yo(n.placement.split("-")[0])}`]]}})(or(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${G.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${G.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${G.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${G.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${wl(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${G.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${G.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${G.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${G.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Sl=_n("span",{name:"MuiTooltip",slot:"Arrow"})(or(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let On=!1;const Yr=new Fn;let Ge={x:0,y:0};function jn(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Xr=E.forwardRef(function(t,n){const r=vo({props:t,name:"MuiTooltip"}),{arrow:o=!1,children:a,classes:i,components:u={},componentsProps:d={},describeChild:p=!1,disableFocusListener:c=!1,disableHoverListener:s=!1,disableInteractive:f=!1,disableTouchListener:m=!1,enterDelay:g=100,enterNextDelay:h=0,enterTouchDelay:y=700,followCursor:T=!1,id:D,leaveDelay:x=0,leaveTouchDelay:b=1500,onClose:P,onOpen:C,open:j,placement:R="bottom",PopperComponent:S,PopperProps:O={},slotProps:k={},slots:U={},title:_,TransitionComponent:rt,TransitionProps:F,...N}=r,A=E.isValidElement(a)?a:l.jsx("span",{children:a}),V=Eo(),W=To(),[q,mt]=E.useState(),[ht,B]=E.useState(null),H=E.useRef(!1),$=f||T,Z=Je(),ct=Je(),L=Je(),wt=Je(),[le,kt]=xl({controlled:j,default:!1});let ot=le;const ce=Ks(D),It=E.useRef(),ue=Kr(()=>{It.current!==void 0&&(document.body.style.WebkitUserSelect=It.current,It.current=void 0),wt.clear()});E.useEffect(()=>ue,[ue]);const de=M=>{Yr.clear(),On=!0,kt(!0),C&&!ot&&C(M)},Tt=Kr(M=>{Yr.start(800+x,()=>{On=!1}),kt(!1),P&&ot&&P(M),Z.start(V.transitions.duration.shortest,()=>{H.current=!1})}),Gt=M=>{H.current&&M.type!=="touchstart"||(q&&q.removeAttribute("title"),ct.clear(),L.clear(),g||On&&h?ct.start(On?h:g,()=>{de(M)}):de(M))},ut=M=>{ct.clear(),L.start(x,()=>{Tt(M)})},[,jt]=E.useState(!1),Zt=M=>{Mr(M.target)||(jt(!1),ut(M))},et=M=>{q||mt(M.currentTarget),Mr(M.target)&&(jt(!0),Gt(M))},Pt=M=>{H.current=!0;const st=A.props;st.onTouchStart&&st.onTouchStart(M)},Ce=M=>{Pt(M),L.clear(),Z.clear(),ue(),It.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",wt.start(y,()=>{document.body.style.WebkitUserSelect=It.current,Gt(M)})},Re=M=>{A.props.onTouchEnd&&A.props.onTouchEnd(M),ue(),L.start(b,()=>{Tt(M)})};E.useEffect(()=>{if(!ot)return;function M(st){st.key==="Escape"&&Tt(st)}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[Tt,ot]);const Jt=Me(sr(A),mt,n);!_&&_!==0&&(ot=!1);const pe=E.useRef(),Se=M=>{const st=A.props;st.onMouseMove&&st.onMouseMove(M),Ge={x:M.clientX,y:M.clientY},pe.current&&pe.current.update()},te={},$t=typeof _=="string";p?(te.title=!ot&&$t&&!s?_:null,te["aria-describedby"]=ot?ce:null):(te["aria-label"]=$t?_:null,te["aria-labelledby"]=ot&&!$t?ce:null);const gt={...te,...N,...A.props,className:Mn(N.className,A.props.className),onTouchStart:Pt,ref:Jt,...T?{onMouseMove:Se}:{}},Dt={};m||(gt.onTouchStart=Ce,gt.onTouchEnd=Re),s||(gt.onMouseOver=jn(Gt,gt.onMouseOver),gt.onMouseLeave=jn(ut,gt.onMouseLeave),$||(Dt.onMouseOver=Gt,Dt.onMouseLeave=ut)),c||(gt.onFocus=jn(et,gt.onFocus),gt.onBlur=jn(Zt,gt.onBlur),$||(Dt.onFocus=et,Dt.onBlur=Zt));const ee={...r,isRtl:W,arrow:o,disableInteractive:$,placement:R,PopperComponentProp:S,touch:H.current},Et=typeof k.popper=="function"?k.popper(ee):k.popper,hn=E.useMemo(()=>{var st,tt;let M=[{name:"arrow",enabled:!!ht,options:{element:ht,padding:4}}];return(st=O.popperOptions)!=null&&st.modifiers&&(M=M.concat(O.popperOptions.modifiers)),(tt=Et==null?void 0:Et.popperOptions)!=null&&tt.modifiers&&(M=M.concat(Et.popperOptions.modifiers)),{...O.popperOptions,...Et==null?void 0:Et.popperOptions,modifiers:M}},[ht,O.popperOptions,Et==null?void 0:Et.popperOptions]),ke=Tl(ee),$n=typeof k.transition=="function"?k.transition(ee):k.transition,fe={slots:{popper:u.Popper,transition:u.Transition??rt,tooltip:u.Tooltip,arrow:u.Arrow,...U},slotProps:{arrow:k.arrow??d.arrow,popper:{...O,...Et??d.popper},tooltip:k.tooltip??d.tooltip,transition:{...F,...$n??d.transition}}},[Ht,Hn]=Sn("popper",{elementType:El,externalForwardedProps:fe,ownerState:ee,className:Mn(ke.popper,O==null?void 0:O.className)}),[qn,gn]=Sn("transition",{elementType:Zn,externalForwardedProps:fe,ownerState:ee}),[vn,I]=Sn("tooltip",{elementType:Cl,className:ke.tooltip,externalForwardedProps:fe,ownerState:ee}),[J,at]=Sn("arrow",{elementType:Sl,className:ke.arrow,externalForwardedProps:fe,ownerState:ee,ref:B});return l.jsxs(E.Fragment,{children:[E.cloneElement(A,gt),l.jsx(Ht,{as:S??_o,placement:R,anchorEl:T?{getBoundingClientRect:()=>({top:Ge.y,left:Ge.x,right:Ge.x,bottom:Ge.y,width:0,height:0})}:q,popperRef:pe,open:q?ot:!1,id:ce,transition:!0,...Dt,...Hn,popperOptions:hn,children:({TransitionProps:M})=>l.jsx(qn,{timeout:V.transitions.duration.shorter,...M,...gn,children:l.jsxs(vn,{...I,children:[_,o?l.jsx(J,{...at}):null]})})})]})}),Ol=({selectedPerson:e,options:t})=>{const n=co.xcircle;return l.jsxs("div",{className:"flex flex-col gap-5",children:[l.jsx("label",{className:"text-preset-3 text-grey-900",children:"People"}),l.jsxs("div",{className:"grid grid-cols-4 gap-y-3 justify-items-center ",children:[t.map(r=>l.jsx(Xr,{title:r.name,placement:"top",children:l.jsx("div",{onClick:()=>e.onChange(r.name),className:St("p-1 border rounded-full ease-in-out duration-300",e.value===r.name?"border-red":"border-transparent hover:scale-110"),children:l.jsx(da,{src:r.src,alt:`${r.name}-avatar`,styles:St("w-12 h-12 md:w-16 md:h-16")})})},r.name)),l.jsx(Xr,{title:"None",placement:"top",children:l.jsx("div",{className:St("border rounded-full ease-in-out duration-300",e.value===null?"border-grey-300":"border-transparent hover:scale-110"),onClick:()=>e.onChange(null),children:l.jsx(n,{className:St("h-14 w-14 text-grey-300 md:w-18 md:h-18")})})})]})]})},jl=({label:e,description:t,value:n,onClick:r,styles:o})=>l.jsxs("div",{className:St("flex justify-between items-center",o),children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-preset-3 text-grey-900",children:e}),l.jsx("p",{className:"text-preset-4 text-grey-500",children:t})]}),l.jsx("div",{className:St(n?"bg-green-400":"bg-grey-100","relative","w-12 h-7","rounded-2xl","cursor-custom"),onClick:()=>r(!n),children:l.jsx(_e.div,{className:St("absolute top-1 bottom-1",n?"left-1":"right-1","bg-white rounded-full","h-5 w-5"),layout:!0,transition:{type:"spring",visualDuration:.3,bounce:.3}})})]}),Fo=({recurring:e,selectedAvatar:t})=>l.jsxs(l.Fragment,{children:[l.jsx(jl,{label:"Recurring",description:"Mark as repeating transaction",value:e.value,onClick:e.onChange}),l.jsx(Ol,{selectedPerson:{value:t.value,onChange:t.onChange},options:ya})]}),Gr=({type:e,label:t,input:n,styles:r,error:o})=>l.jsxs("div",{className:St("flex gap-1 items-start self-stretch",r),children:[t.showLabel&&l.jsx("label",{htmlFor:t.labelText,className:St("text-preset-5-bold text-grey-500",t.labelStyles),children:t.labelText}),l.jsx("div",{className:St("flex items-center gap-4 rounded-lg py-3 px-5 border border-beige-500 hover:border-grey-500 active:border-grey-900 w-full"),children:l.jsx("input",{type:e,id:t.labelText,className:St("bg-white text-preset-4 w-full outline-hidden cursor-custom",n.inputStyles),value:n.value,onChange:a=>{n.onChange(a.target.value)},onBlur:n.onBlur})}),o&&l.jsx("p",{className:"text-preset-5 text-red self-end",children:o})]}),Zr=e=>e==="expense"?In.sort((t,n)=>t.label.localeCompare(n.label)):ao.sort((t,n)=>t.label.localeCompare(n.label)),Lo=({date:e,time:t,name:n,transactionType:r,transactionCategory:o,amount:a})=>{const i=Zr(r.value),u=c=>{r.onChange(c);const s=Zr(c);o.onChange(s[0].value)},d=n.value.length<=Ut?n.value.length:Ut,p=Ut-d;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Gr,{label:{showLabel:!0,labelText:"Date"},input:{value:e.value,onChange:c=>e.onChange(c)},type:"date",styles:"grow flex-col"}),l.jsx(Gr,{label:{showLabel:!0,labelText:"Time"},input:{value:t.value,onChange:c=>t.onChange(c)},type:"time",styles:"grow flex-col"})]}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Transaction Name"},input:{value:n.value,onChange:c=>n.onChange(c),placeholder:"e.g., Coffee shop, Salary, Grocery store",onBlur:n.onBlur,maxLength:Ut},helperText:{showHelper:!0,helperText:`${p} characters left`,helperStyles:"self-end"},styles:"flex-col",error:n.error}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(xe,{label:{showLabel:!0,labelText:"Transaction type",labelStyles:"text-preset-5-bold"},value:r.value,onChange:u,options:pa,styles:"flex-col items-start",showCaret:!0,small:!0}),l.jsx(xe,{label:{showLabel:!0,labelText:"Category",labelStyles:"text-preset-5-bold"},value:o.value,onChange:c=>o.onChange(c),options:i,styles:"flex-col items-start grow",showCaret:!0})]}),l.jsx(Yt,{label:{showLabel:!0,labelText:"Amount"},input:{value:a.value,onChange:c=>a.onChange(c),onBlur:a.onBlur,placeholder:"e.g. 20.75"},helperText:{showHelper:!1},styles:"flex-col",error:a.error,isNumberInput:!0})]})},$o=(e,t)=>e==="expense"?-t:t,Ho=(e,t)=>new Date(`${e}T${t}:00`).toISOString(),qo=e=>{const t=new Date(e),n=Na(),r=t.toLocaleString("sv-SE",{timeZone:n}),[o,a]=r.split(" "),i=a.slice(0,5);return{dateISO:o,timeISO:i}},Pl=({onSubmit:e,options:t={recurring:!1}})=>{const n=new Date().toISOString(),{dateISO:r,timeISO:o}=qo(n),{values:a,setFieldValue:i,errors:u,validateField:d,validateAll:p}=Te({initialValues:{amount:"",type:"expense",category:"General",avatar:null,name:"",recurring:t.recurring,dateISO:r,timeISO:o,tab:"basic"},validators:{amount:f=>Rn.validateTransactionAmount(f),name:f=>Rn.validateTransactionName(f)}}),c=f=>{f.preventDefault();const m=p();if(!m){i("tab","basic");return}const g=Ho(a.dateISO,a.timeISO),h=Number(a.amount),y=$o(a.type,h),T=a.avatar||null;m&&e({name:a.name.trim(),amount:y,transaction_type:a.type,category:a.category,transaction_date:g,avatar_person:T,recurring:a.recurring})},s=a.tab==="basic";return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px] min-h-[700px] md:h-full",children:[l.jsx(ft,{title:"Add New Transaction"}),l.jsx(lt,{text:"Record your income or expense to keep track of your spending and maintain accurate financial records."}),l.jsxs("form",{onSubmit:c,className:"flex flex-col gap-4 grow",id:"add-transaction-form",children:[l.jsx(wo,{isBasic:s,setBasicTab:()=>i("tab","basic"),setAdvancedTab:()=>i("tab","advanced")}),l.jsx("div",{className:"flex flex-col gap-4 grow",children:s?l.jsx(Lo,{date:{value:a.dateISO,onChange:f=>i("dateISO",f)},time:{value:a.timeISO,onChange:f=>i("timeISO",f)},name:{value:a.name,onChange:f=>i("name",f),onBlur:()=>d("name"),error:u.name},transactionCategory:{value:a.category,onChange:f=>i("category",f)},transactionType:{value:a.type,onChange:f=>i("type",f)},amount:{value:a.amount,onChange:f=>i("amount",f),onBlur:()=>d("amount"),error:u.amount}}):l.jsx(Fo,{recurring:{value:a.recurring,onChange:f=>i("recurring",f)},selectedAvatar:{value:a.avatar,onChange:f=>i("avatar",f)}})})]}),l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4",form:"add-transaction-form",children:"Add Transaction"})]})},Dl=({transactionName:e,onDelete:t,onClose:n})=>l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:`Delete '${e}'?`}),l.jsx(lt,{text:"Are you sure you want to delete this transaction? This action cannot be reversed, and all the data inside it will be removed forever."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[l.jsx(Y,{variant:"danger",onClick:t,styles:"p-4 grow",children:"Yes, Confirm Deletion"}),l.jsx(Y,{variant:"secondary",onClick:n,styles:"p-4 grow",children:"No, Go Back"})]})]}),Nl=({onSubmit:e,initialValues:t})=>{const{openModal:n,closeModal:r}=we(),{dateISO:o,timeISO:a}=qo(t.transaction_date),{values:i,setFieldValue:u,errors:d,validateField:p,validateAll:c,isTouched:s}=Te({initialValues:{amount:Math.abs(t.amount),dateISO:o,timeISO:a,transaction_type:t.transaction_type,transaction_category:t.category,transaction_avatar:t.avatar_person,name:t.name,recurring:t.recurring,id:t.id,tab:"basic"},validators:{amount:h=>Rn.validateTransactionAmount(h),name:h=>Rn.validateTransactionName(h)}}),f=()=>{n({type:"transaction-delete",transaction:{id:t.id,name:t.name}})},m=h=>{h.preventDefault();const y=c();if(!y){u("tab","basic");return}const T=Ho(i.dateISO,i.timeISO),D=$o(i.transaction_type,Number(i.amount));y&&s?e({name:i.name.trim(),amount:D,transaction_type:i.transaction_type,avatar_person:i.transaction_avatar,category:i.transaction_category,transaction_date:T,recurring:i.recurring}):r()},g=i.tab==="basic";return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px] min-h-[740px] md:h-full",children:[l.jsx(ft,{title:"Edit Transaction"}),l.jsx(lt,{text:"Update or change any information about current transaction."}),l.jsxs("form",{onSubmit:m,className:"flex flex-col gap-4 grow",id:"edit-transaction-form",children:[l.jsx(wo,{isBasic:g,setBasicTab:()=>u("tab","basic"),setAdvancedTab:()=>u("tab","advanced")}),l.jsx("div",{className:"flex flex-col gap-4 grow",children:g?l.jsx(Lo,{date:{value:i.dateISO,onChange:h=>u("dateISO",h)},time:{value:i.timeISO,onChange:h=>u("timeISO",h)},name:{value:i.name,onChange:h=>u("name",h),onBlur:()=>p("name"),error:d.name},transactionCategory:{value:i.transaction_category,onChange:h=>u("transaction_category",h)},transactionType:{value:i.transaction_type,onChange:h=>u("transaction_type",h)},amount:{value:String(i.amount),onChange:h=>u("amount",h),onBlur:()=>p("amount"),error:d.amount}}):l.jsx(Fo,{recurring:{value:i.recurring,onChange:h=>u("recurring",h)},selectedAvatar:{value:i.transaction_avatar,onChange:h=>u("transaction_avatar",h)}})})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Y,{type:"submit",variant:"primary",styles:"p-4 grow",form:"edit-transaction-form",children:"Save Changes"}),l.jsx(Y,{variant:"danger",styles:"p-4 grow",onClick:f,children:"Delete Transaction"})]})]})},Ml=({onClose:e})=>{const t=nr();return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Transaction Protection"}),l.jsx(lt,{text:`
          Transfer transactions maintain the integrity between your main account and savings pots. Direct editing could cause
          balance inconsistencies.
        `}),l.jsx(lt,{text:"Please use pot management tools for any adjustments."}),l.jsxs("div",{className:"flex gap-5",children:[l.jsx(Y,{variant:"primary",onClick:()=>{t("/pots"),e()},styles:"p-4 grow",children:"Manage Pots"}),l.jsx(Y,{variant:"secondary",onClick:e,styles:"p-4 grow",children:"No, Go Back"})]})]})},Al=()=>{const{closeModal:e}=we(),{signOut:t}=be(),n=async()=>{await t(),e()};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Confirm Log out"}),l.jsx(lt,{text:"You'll be signed out of your account and need to sign in again to access your data."}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Y,{variant:"secondary",styles:"grow p-4",onClick:()=>e(),children:"Cancel"}),l.jsx(Y,{variant:"danger",styles:"grow p-4",onClick:n,children:"Log Out"})]})]})},Rl=()=>{const{closeModal:e}=we(),t=nr(),{clearDemoData:n,signOut:r}=be(),o=async()=>{n(),await r(),e(),t("/signup")};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"Demo mode"}),l.jsx(lt,{text:"You're currently exploring Finance in demo mode with sample data. All your changes—budgets, pots, transactions—are saved locally in your browser and will be lost when you log out. For a full experience, create a free account to securely save your real financial data, sync across devices, and keep your finances organized long-term."}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx(Y,{variant:"secondary",styles:"grow p-4",onClick:()=>e(),children:"Continue Exploring"}),l.jsx(Y,{variant:"primary",styles:"grow p-4",onClick:o,children:"Create Free Account"})]})]})},kl=()=>{const{closeModal:e}=we(),{signOut:t}=be(),n=nr(),r=async()=>{await t(),e(),n("/login")};return l.jsxs(pt,{styles:"min-w-[335px] md:w-[560px]",children:[l.jsx(ft,{title:"End Demo Mode?"}),l.jsx(lt,{text:"Your demo data will be cleared. Create an account to save your financial information."}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Y,{variant:"secondary",styles:"p-4 grow",onClick:()=>e(),children:"Continue Demo"}),l.jsx(Y,{variant:"danger",styles:"p-4 grow",onClick:r,children:"End Demo"})]})]})},Il=({children:e})=>{const[t,n]=E.useState(null);return E.useEffect(()=>{const r=document.getElementById("modal-root");r&&n(r)},[]),t?so.createPortal(e,t):null},Bl=()=>{const{isMobile:e}=ga(),{modalState:t,closeModal:n}=we(),{deleteWithUndo:r}=xs(),{user:o,isDemoMode:a}=be(),[i]=Er("month"),[u]=Er("year"),d=Ma(i,u),p=gs(),c=vs(),s=ys(),f=(t==null?void 0:t.type)==="transaction-add"||(t==null?void 0:t.type)==="transaction-edit",m=S=>{p.createBudget.mutate(S,{onSuccess:()=>{n(),z.success(`${S.category} budget created`)},onError:()=>z.error("Failed to create budget.")})},g=S=>{(t==null?void 0:t.type)==="budget-edit"&&p.updateBudget.mutate({id:t.budget.id,updates:S},{onSuccess:()=>{n(),z.success(`${S.category} budget updated.`)},onError:()=>z.error("Failed to update budget.")})},h=()=>{(t==null?void 0:t.type)==="budget-delete"&&(a?p.deleteBudget.mutate(t.budget.id,{onSuccess:()=>{n(),z.success(`${t.budget.category} deleted.`)},onError:()=>z.error("Failed to delete budget.")}):(n(),r({queryKey:["budgets",d,o==null?void 0:o.id],idToDelete:t.budget.id,actualDelete:()=>p.deleteBudget.mutateAsync(t.budget.id),message:`${t.budget.category} deleted.`,errorMessage:"Failed to delete budget."})))},y=S=>{c.createPot.mutate(S,{onSuccess:()=>{n(),z.success(`Pot ${S.name} created.`)},onError:()=>z.error("Failed to create pot.")})},T=S=>{(t==null?void 0:t.type)==="pot-edit"&&c.updatePot.mutate({id:t.pot.id,updates:S},{onSuccess:()=>{n(),z.success(`Pot ${S.name} updated.`)},onError:()=>z.error("Failed to update pot.")})},D=()=>{(t==null?void 0:t.type)==="pot-delete"&&(a?(t.pot.total>0&&s.createTransaction.mutate({name:`Refund of remaining balance from ${t.pot.name}`,amount:t.pot.total,category:"Transfer",transaction_date:new Date().toISOString(),transaction_type:"transfer",pot_id:null}),c.deletePot.mutate(t.pot.id,{onSuccess:()=>{n(),z.success(`Pot ${t.pot.name} deleted${t.pot.total>0&&`, ${t.pot.total} returned to balance`}.`)},onError:()=>z.error("Failed to delete pot.")})):(n(),r({queryKey:["pots",o==null?void 0:o.id],idToDelete:t.pot.id,actualDelete:async()=>{t.pot.total>0&&s.createTransaction.mutate({name:`Refund of remaining balance from ${t.pot.name}`,amount:t.pot.total,category:"Transfer",transaction_date:new Date().toISOString(),transaction_type:"transfer",pot_id:null}),await c.deletePot.mutateAsync(t.pot.id)},message:`Pot ${t.pot.name} deleted${t.pot.total>0?`, ${t.pot.total} returned to balance`:""}.`,errorMessage:"Failed to delete pot."})))},x=S=>(t==null?void 0:t.type)==="pot-add-money"?new Promise((O,k)=>{c.addMoneyToPot.mutate({id:t.pot.id,amount:S,currentTotal:t.pot.total,potName:t.pot.name},{onSuccess:()=>{n(),z.success(`Money added to ${t.pot.name}.`),O()},onError:()=>{z.error("Failed to add money to pot."),k()}})}):Promise.resolve(),b=S=>(t==null?void 0:t.type)==="pot-withdraw-money"?new Promise((O,k)=>{c.withdrawMoneyFromPot.mutate({id:t.pot.id,amount:S,currentTotal:t.pot.total,potName:t.pot.name},{onSuccess:()=>{n(),z.success(`Money withdrawn from ${t.pot.name}.`),O()},onError:()=>{z.error("Failed to withdraw money from pot."),k()}})}):Promise.resolve(),P=S=>{s.createTransaction.mutate(S,{onSuccess:()=>{n(),z.success("Transaction created.")},onError:()=>z.error("Failed to create transaction.")})},C=S=>{(t==null?void 0:t.type)==="transaction-edit"&&s.updateTransaction.mutate({id:t.transaction.id,updates:S},{onSuccess:()=>{n(),z.success("Transaction updated.")},onError:()=>z.error("Failed to update transaction.")})},j=()=>{(t==null?void 0:t.type)==="transaction-delete"&&(a?s.deleteTransaction.mutate(t.transaction.id,{onSuccess:()=>{n(),z.success("Transaction deleted.")},onError:()=>z.error("Failed to delete transaction.")}):(n(),r({queryKey:["transactions"],idToDelete:t.transaction.id,actualDelete:()=>s.deleteTransaction.mutateAsync(t.transaction.id),message:"Transaction deleted.",errorMessage:"Failed to delete transaction."})))},R=()=>{if(!t)return null;switch(t.type){case"budget-add":return l.jsx(Ns,{onSubmit:m});case"budget-edit":return l.jsx(As,{initialValues:{id:t.budget.id,category:t.budget.category,maximum:t.budget.maximum,theme:t.budget.theme},onSubmit:g});case"budget-delete":return l.jsx(Ms,{budgetCategory:t.budget.category,onDelete:h,onClose:n});case"pot-add":return l.jsx(Rs,{onSubmit:y});case"pot-edit":return l.jsx(Bs,{initialValues:{id:t.pot.id,name:t.pot.name,target:t.pot.target,theme:t.pot.theme},onSubmit:T});case"pot-delete":return l.jsx(Is,{potName:t.pot.name,onDelete:D,onClose:n});case"pot-add-money":return l.jsx(ks,{pot:{id:t.pot.id,name:t.pot.name,target:t.pot.target,total:t.pot.total,theme:t.pot.theme},onAddMoney:x});case"pot-withdraw-money":return l.jsx(_s,{pot:{id:t.pot.id,name:t.pot.name,target:t.pot.target,total:t.pot.total,theme:t.pot.theme},onWithdrawMoney:b});case"transaction-add":return l.jsx(Pl,{onSubmit:P,options:t.options});case"transaction-edit":return l.jsx(Nl,{initialValues:{id:t.transaction.id,name:t.transaction.name,category:t.transaction.category,transaction_date:t.transaction.transaction_date,transaction_type:t.transaction.transaction_type,avatar_person:t.transaction.avatar_person,amount:t.transaction.amount,recurring:t.transaction.recurring},onSubmit:C});case"transaction-delete":return l.jsx(Dl,{transactionName:t.transaction.name,onDelete:j,onClose:n});case"transaction-restriction":return l.jsx(Ml,{onClose:n});case"logout":return l.jsx(Al,{});case"demo":return l.jsx(Rl,{});case"endDemo":return l.jsx(kl,{});default:return null}};return l.jsx(Il,{children:l.jsx(hs,{children:t&&l.jsx(_e.div,{className:"fixed inset-0 z-50 bg-black/50 px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n,children:f&&!e?l.jsx(_e.div,{className:"absolute right-0 top-0 h-full w-full max-w-[560px] bg-white overflow-y-auto rounded-l-xl",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},onClick:S=>S.stopPropagation(),children:R()}):f&&e?l.jsx(_e.div,{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl max-h-[90vh] overflow-y-auto",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},onClick:S=>S.stopPropagation(),children:R()}):l.jsx(_e.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,delay:.05},onClick:S=>S.stopPropagation(),children:R()})})})})},_l=new _a;function Fl(){const{user:e,loading:t,demoInitialized:n}=be(),r=Jo(),a=["/signup","/forgot-password","/login"].includes(r.pathname);return t||!n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{children:"Loading..."})}):e?a?l.jsx(gr,{to:"/",replace:!0}):l.jsx(vr,{}):a?l.jsx(vr,{}):l.jsx(gr,{to:"/login",replace:!0})}function cc({children:e}){return l.jsxs("html",{lang:"en",children:[l.jsxs("head",{children:[l.jsx("meta",{charSet:"utf-8"}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.jsx("title",{children:"Finance"}),l.jsx("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"}),l.jsx(Ko,{}),l.jsx(Yo,{})]}),l.jsxs("body",{suppressHydrationWarning:!0,children:[e,l.jsx("div",{id:"modal-root"}),l.jsx(Xo,{}),l.jsx(Go,{})]})]})}const uc=zo(function(){return l.jsx(fa,{client:_l,children:l.jsx(ma,{children:l.jsx(ha,{children:l.jsxs(va,{children:[l.jsx(Bl,{}),l.jsx(Fl,{}),l.jsx(us,{mobileOffset:{bottom:"68px"},offset:{bottom:"98px"}})]})})})})}),dc=Uo(function({error:t}){let n="Oops!",r="An unexpected error occurred.",o;return Zo(t)&&(n=t.status===404?"404":"Error",r=t.status===404?"The requested page could not be found.":t.statusText||r),l.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[l.jsx("h1",{children:n}),l.jsx("p",{children:r}),o]})});export{dc as ErrorBoundary,cc as Layout,uc as default};
