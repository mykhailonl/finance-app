import{a as s,A as z,p as t,B as C,y as P,w as _,O as k}from"./chunk-EF7DTUVF-DUQZMWWT.js";import{c as M,i as A}from"./IconType-D_XhrS7g.js";import{B as I}from"./Button-DqqQBIgQ.js";import{m as f,N as L}from"./index-InAYqPc8.js";import{u as F}from"./useAuth-CUq5kDrt.js";import{u as V}from"./useDevice-BvX5AX7L.js";import{u as $}from"./useModal-BE7etAkf.js";const x={active:{icon:"#277C78",text:"#201F24"},inactive:{icon:"#B3B3B3",text:"#B3B3B3"}},K={home:"Overview",transactions:"Transactions",budgets:"Budgets",navPots:"Pots",widgetRecurring:"Recurring Bills"},E=s.forwardRef(({href:a,iconName:g,animationDuration:m},v)=>{const l=!!z(a),u=A[g],h=K[g];return t.jsx(C,{ref:v,to:a,className:M("relative grow cursor-custom flex flex-col lg:flex-row items-center justify-center lg:justify-start  lg:gap-4 rounded-t-lg lg:rounded-r-lg lg:rounded-t-none z-10","py-2 lg:py-4 lg:pl-7 lg:pr-8 gap-050"),children:t.jsxs(f.div,{className:"flex items-center md:flex-col md:gap-1 lg:flex-row lg:gap-4",animate:{color:l?x.active.text:x.inactive.text},transition:{duration:m,ease:"linear"},children:[t.jsx(f.div,{animate:{color:l?x.active.icon:x.inactive.icon},transition:{duration:m,ease:"linear"},children:t.jsx(u,{className:"h-6 w-6"})}),t.jsx("span",{className:"hidden md:block text-preset-5-bold",children:h})]})})});E.displayName="NavItem";const B=[{href:"/",iconName:"home"},{href:"/transactions",iconName:"transactions"},{href:"/budgets",iconName:"budgets"},{href:"/pots",iconName:"navPots"},{href:"/recurring",iconName:"widgetRecurring"}],U=()=>{const{isDesktop:a}=V(),{openModal:g}=$(),{isDemoMode:m}=F(),v=P(),N=A.logoLarge,l=s.useRef(null),u=s.useRef([]),[h,y]=s.useState(-1),[w,T]=s.useState(!1),i=B.findIndex(e=>e.href===v.pathname);s.useLayoutEffect(()=>{u.current.every(o=>o!==null)&&l.current&&!w&&(T(!0),y(i))},[i,w]);const p=s.useCallback(e=>{const o=l.current,c=u.current[e];if(!o||!c)return{x:0,y:0,width:0,height:0};const d=o.getBoundingClientRect(),r=c.getBoundingClientRect(),R=window.getComputedStyle(o),O=parseFloat(R.paddingLeft),S=parseFloat(R.paddingTop);return{x:r.left-d.left-O,y:r.top-d.top-S,width:r.width,height:r.height}},[]),n=s.useMemo(()=>{const e=h,o=i;if(e===-1||e===o)return[p(o)];const c=o>e?1:-1,d=[];for(let r=e;r!==o;r+=c)d.push(p(r));return d.push(p(o)),d},[h,i,p]);s.useEffect(()=>{const e=()=>{y(i)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]);const b=s.useMemo(()=>n.length>1?n.map((e,o)=>o/(n.length-1)):void 0,[n]),j=s.useMemo(()=>({duration:L,ease:"linear",times:b}),[b]),D=()=>{g({type:"endDemo"})};return t.jsxs("div",{className:"bg-grey-900 rounded-t-lg lg:rounded-t-none lg:rounded-r-2xl lg:flex lg:flex-col lg:gap-6 lg:w-[300px] lg:h-screen absolute inset-x-0 bottom-0 lg:static",children:[t.jsx("div",{className:"hidden px-8 py-10 lg:block cursor-custom",children:t.jsx(C,{to:"/",children:t.jsx(N,{})})}),t.jsxs("nav",{ref:l,className:"relative flex pt-2 lg:pt-0 px-4 md:px-10 lg:px-0 lg:pr-6 lg:flex-col lg:gap-1",children:[w&&t.jsxs(t.Fragment,{children:[t.jsx(f.div,{className:"absolute bg-beige-100 rounded-t-lg lg:rounded-r-lg lg:rounded-t-none pointer-events-none",style:{zIndex:0},initial:{x:n[0].x,y:n[0].y,width:n[0].width,height:n[0].height},animate:{x:n.map(e=>e.x),y:n.map(e=>e.y),width:n.map(e=>e.width),height:n.map(e=>e.height)},transition:j,onAnimationComplete:()=>{y(i)}},`bg-${i}`),t.jsx(f.div,{className:M("absolute bg-green pointer-events-none","lg:top-0 lg:bottom-auto","top-auto bottom-0 lg:bottom-auto"),style:{zIndex:1},initial:{x:n[0].x,y:n[0].y,width:a?4:n[0].width,height:a?n[0].height:4,top:a?0:"auto",bottom:a?"auto":0},animate:{x:n.map(e=>e.x),y:n.map(e=>e.y),width:n.map(e=>a?4:e.width),height:n.map(e=>a?e.height:4)},transition:j},`indicator-${i}`)]}),B.map((e,o)=>t.jsx(E,{href:e.href,iconName:e.iconName,animationDuration:L,ref:c=>{u.current[o]=c}},e.href))]}),m?t.jsxs("div",{className:"hidden lg:flex flex-col",children:[t.jsx("div",{className:"px-4 py-2 text-preset-3 text-grey-500",children:"Demo Mode"}),t.jsx(I,{variant:"logout",onClick:D,children:"End Demo"})]}):t.jsx(I,{variant:"logout",onClick:()=>g({type:"logout"}),styles:"hidden lg:flex",children:"Logout"})]})},Y=_(function(){return t.jsxs("main",{className:"h-full bg-beige-100 relative lg:flex lg:flex-row-reverse",children:[t.jsx(k,{}),t.jsx(U,{})]})});export{Y as default};
