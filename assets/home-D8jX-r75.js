import{p as e,a as b,w as W}from"./chunk-EF7DTUVF-DUQZMWWT.js";import{B as A,I as C}from"./InfoCard-BKk9ynqy.js";import{N as p,P as k,a as I}from"./PageWrapper-D6smKo6E.js";import{S as m,W as L}from"./WidgetTransaction-Cg_B-9U0.js";import{q as g,u as V}from"./Avatar-BQonAs2_.js";import{u as P,c as M}from"./clsx-DOsrhoMP.js";import{S as d,u as Y}from"./useRecurringTransactions-DXI76NFS.js";import{u as $}from"./usePots-D6SzmVFw.js";import{c as U}from"./IconType-D_XhrS7g.js";import{f as h}from"./formatAmount-BKTdCLbz.js";import{s as E}from"./sortTransactions-BED6ieis.js";import{g as F,b as H,f as q,s as T,e as z,m as S,u as O}from"./DefaultPropsProvider-BBnyG-ow.js";import{B as w}from"./Button-DqqQBIgQ.js";import{u as G}from"./useAuth-CUq5kDrt.js";import{u as J}from"./useModal-BE7etAkf.js";import"./people-CIRKKBWR.js";import"./index-Bd0djgpv.js";import"./formatDate-Ct18L270.js";import"./getUserTimeZone-Djy-hj5f.js";const K=()=>{const{data:{budgets:t,totalLimit:r,spentWithinBudgets:i}}=P(),s=!t.length;return e.jsxs(g,{styles:"grow gap-8",children:[e.jsx(m,{title:"Budgets",linkText:"See Details",link:"/budgets"}),s?e.jsx(p,{text:"You haven't added any budgets."}):e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:py-2 lg:w-fit",children:[e.jsx("div",{className:"flex items-center justify-center relative w-full h-[300px] md:h-[250px] md:w-[250px] lg:w-[250px] grow",children:e.jsx(A,{budgets:t,spent:i,limit:r})}),e.jsx("div",{className:"flex md:flex-col gap-4 flex-wrap",children:t.slice(0,4).map((a,o)=>e.jsx(C,{name:a.category,amount:a.maximum,color:a.theme},o))})]})]})},Q=()=>{const{data:{pots:t}}=$(),r=!t.length,i=t.reduce((s,a)=>s+a.total,0);return e.jsxs(g,{styles:"min-h-[141px]",children:[e.jsx(m,{title:"Pots",linkText:"See Details",link:"/pots"}),r?e.jsx(p,{text:"Create your first pot to start saving"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5 md:flex-row md:items-center",children:[e.jsx(d,{cardTitle:"Total Saved",cardValue:i,iconName:"pot"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 grow",children:t.slice(0,4).map(s=>e.jsx(C,{name:s.name,amount:s.total,color:s.theme},s.id))})]})})]})},f=({type:t,value:r})=>{const i={paid:"Paid Bills",upcoming:"Total Upcoming",soon:"Due Soon"},a={paid:"border-l-green",upcoming:"border-l-yellow",soon:"border-l-cyan"}[t];return e.jsxs("div",{className:U(a,"flex px-4 py-5 rounded-lg self-stretch justify-between bg-beige-100 border-l-4"),children:[e.jsx("p",{className:"text-preset-4 text-grey-500",children:i[t]}),e.jsx("p",{className:"text-preset-4-bold text-grey-900",children:r})]})},X=()=>{const{data:{paidRecurring:t,upcomingRecurring:r,dueSoon:i,transactions:s}}=Y({sortBy:"latest",page:1,query:""}),a=!s.amount;return e.jsxs(g,{styles:"gap-8 grow lg:min-w-[430px]",children:[e.jsx(m,{title:"Recurring Bills",linkText:"See Details",link:"/recurring"}),a?e.jsx(p,{text:"You haven't added any recurring transactions."}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(f,{type:"paid",value:h(t.amount)}),e.jsx(f,{type:"upcoming",value:h(r.amount)}),e.jsx(f,{type:"soon",value:h(i.amount)})]})})]})};function Z(t){return F("MuiDivider",t)}H("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const _=t=>{const{absolute:r,children:i,classes:s,flexItem:a,light:o,orientation:n,textAlign:l,variant:c}=t;return z({root:["root",r&&"absolute",c,o&&"light",n==="vertical"&&"vertical",a&&"flexItem",i&&"withChildren",i&&n==="vertical"&&"withChildrenVertical",l==="right"&&n!=="vertical"&&"textAlignRight",l==="left"&&n!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",n==="vertical"&&"wrapperVertical"]},Z,s)},ee=T("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:i}=t;return[r.root,i.absolute&&r.absolute,r[i.variant],i.light&&r.light,i.orientation==="vertical"&&r.vertical,i.flexItem&&r.flexItem,i.children&&r.withChildren,i.children&&i.orientation==="vertical"&&r.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&r.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&r.textAlignLeft]}})(S(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:r})=>!!r.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:r})=>r.children&&r.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:r})=>r.orientation==="vertical"&&r.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:r})=>r.textAlign==="right"&&r.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:r})=>r.textAlign==="left"&&r.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),te=T("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,r)=>{const{ownerState:i}=t;return[r.wrapper,i.orientation==="vertical"&&r.wrapperVertical]}})(S(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),v=b.forwardRef(function(r,i){const s=q({props:r,name:"MuiDivider"}),{absolute:a=!1,children:o,className:n,orientation:l="horizontal",component:c=o||l==="vertical"?"div":"hr",flexItem:j=!1,light:N=!1,role:x=c!=="hr"?"separator":void 0,textAlign:B="center",variant:D="fullWidth",...R}=s,u={...s,absolute:a,component:c,flexItem:j,light:N,orientation:l,role:x,textAlign:B,variant:D},y=_(u);return e.jsx(ee,{as:c,className:M(y.root,n),role:x,ref:i,ownerState:u,"aria-orientation":x==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,...R,children:o?e.jsx(te,{className:y.wrapper,ownerState:u,children:o}):null})});v&&(v.muiSkipListHighlight=!0);const re=({showCategory:t=!1})=>{const{data:r}=V(),s=E(r,"latest").slice(0,5),a=!r.length;return e.jsxs(g,{styles:"gap-8",children:[e.jsx(m,{title:"Transactions",linkText:"View All",link:"/transactions"}),a?e.jsx(p,{text:"You haven't added any transactions."}):e.jsx("div",{className:"flex flex-col gap-5",children:s.map((o,n)=>e.jsxs(b.Fragment,{children:[e.jsx(L,{transaction:o,showCategory:t}),n<s.length-1&&e.jsx(v,{})]},o.id))})]})},ie=()=>e.jsxs("div",{className:"flex flex-col gap-6 items-start lg:flex-row",children:[e.jsxs("div",{className:"flex flex-col gap-4 items-start self-stretch grow md:gap-6",children:[e.jsx(Q,{}),e.jsx(re,{showCategory:!0})]}),e.jsxs("div",{className:"flex flex-col gap-4 items-start self-stretch md:gap-6",children:[e.jsx(K,{}),e.jsx(X,{})]})]}),se=()=>{const{openModal:t}=J(),{isDemoMode:r}=G();return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(k,{title:"Overview"}),r?e.jsx(w,{variant:"secondary",styles:"p-4",onClick:()=>t({type:"demo"}),children:"DEMO"}):e.jsx(w,{variant:"secondary",onClick:()=>t({type:"logout"}),styles:"p-4 lg:hidden",children:"Logout"})]})},ae=()=>{const{data:{current:t,income:r,expenses:i}}=O();return e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-6",children:[e.jsx(d,{cardTitle:"Current Balance",cardValue:t,mainCard:!0}),e.jsx(d,{cardTitle:"Income",cardValue:r}),e.jsx(d,{cardTitle:"Expenses",cardValue:i})]})},Se=W(function(){return e.jsxs(I,{children:[e.jsx(se,{}),e.jsx(ae,{}),e.jsx(ie,{})]})});export{Se as default};
